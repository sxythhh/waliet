{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivelinivanov/waliet/hooks/use-email-prompt.ts"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\n\ninterface UseEmailPromptOptions {\n  userEmail: string | null;\n  isWhopUser: boolean;\n  skip?: boolean; // Allow parent to skip the prompt\n}\n\n/**\n * Hook to determine if user should be prompted for email\n *\n * Shows prompt when:\n * - User is authenticated via Whop (app view)\n * - User doesn't have an email in database\n *\n * The prompt will appear every time until the user provides their email.\n */\nexport function useEmailPrompt({\n  userEmail,\n  isWhopUser,\n  skip = false,\n}: UseEmailPromptOptions) {\n  const [shouldPrompt, setShouldPrompt] = useState(false);\n\n  useEffect(() => {\n    // Don't prompt if explicitly skipped by parent\n    if (skip) {\n      setShouldPrompt(false);\n      return;\n    }\n\n    // Only prompt Whop users without email\n    if (!isWhopUser || userEmail) {\n      setShouldPrompt(false);\n      return;\n    }\n\n    // Show prompt after a brief delay (better UX)\n    const timer = setTimeout(() => {\n      setShouldPrompt(true);\n    }, 2000);\n\n    return () => clearTimeout(timer);\n  }, [userEmail, isWhopUser, skip]);\n\n  const dismissPrompt = () => {\n    setShouldPrompt(false);\n  };\n\n  return {\n    shouldPrompt,\n    dismissPrompt,\n  };\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAmBO,SAAS,eAAe,EAC7B,SAAS,EACT,UAAU,EACV,OAAO,KAAK,EACU;IACtB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,2NAAQ,EAAC;IAEjD,IAAA,4NAAS,EAAC;QACR,+CAA+C;QAC/C,IAAI,MAAM;YACR,gBAAgB;YAChB;QACF;QAEA,uCAAuC;QACvC,IAAI,CAAC,cAAc,WAAW;YAC5B,gBAAgB;YAChB;QACF;QAEA,8CAA8C;QAC9C,MAAM,QAAQ,WAAW;YACvB,gBAAgB;QAClB,GAAG;QAEH,OAAO,IAAM,aAAa;IAC5B,GAAG;QAAC;QAAW;QAAY;KAAK;IAEhC,MAAM,gBAAgB;QACpB,gBAAgB;IAClB;IAEA,OAAO;QACL;QACA;IACF;AACF"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivelinivanov/waliet/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\n/**\n * Merge Tailwind classes with clsx\n */\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport function debounce<T extends (...args: unknown[]) => unknown>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: ReturnType<typeof setTimeout> | null = null;\n  return (...args: Parameters<T>) => {\n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), wait);\n  };\n}\n\n/**\n * Format cents to dollar string\n */\nexport function formatCents(cents: number): string {\n  return new Intl.NumberFormat(\"en-US\", {\n    style: \"currency\",\n    currency: \"USD\",\n  }).format(cents / 100);\n}\n\n/**\n * Convert dollars to cents\n */\nexport function dollarsToCents(dollars: number): number {\n  return Math.round(dollars * 100);\n}\n\n/**\n * Convert cents to dollars\n */\nexport function centsToDollars(cents: number): number {\n  return cents / 100;\n}\n\n/**\n * Format units (30-min increments) to hours string\n */\nexport function formatUnitsToHours(units: number): string {\n  const hours = units / 2;\n  if (hours === 1) return \"1 hour\";\n  if (hours < 1) return `${units * 30} minutes`;\n  return `${hours} hours`;\n}\n\n/**\n * Calculate platform fee (8%)\n */\nexport function calculatePlatformFee(amount: number): number {\n  return Math.round(amount * 0.08);\n}\n\n/**\n * Calculate community fee in basis points\n */\nexport function calculateCommunityFee(amount: number, bps: number): number {\n  return Math.round(amount * (bps / 10000));\n}\n\n/**\n * Generate initials from name\n */\nexport function getInitials(name: string | null | undefined): string {\n  if (!name) return \"?\";\n  return name\n    .split(\" \")\n    .map((n) => n[0])\n    .join(\"\")\n    .toUpperCase()\n    .slice(0, 2);\n}\n\n/**\n * Format date for display\n */\nexport function formatDate(date: Date | string): string {\n  return new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n  }).format(new Date(date));\n}\n\n/**\n * Format date with time\n */\nexport function formatDateTime(date: Date | string): string {\n  return new Intl.DateTimeFormat(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    year: \"numeric\",\n    hour: \"numeric\",\n    minute: \"2-digit\",\n  }).format(new Date(date));\n}\n\n/**\n * Format relative time (e.g., \"2 hours ago\")\n */\nexport function formatRelativeTime(date: Date | string): string {\n  const now = new Date();\n  const then = new Date(date);\n  const diffMs = now.getTime() - then.getTime();\n  const diffSecs = Math.floor(diffMs / 1000);\n  const diffMins = Math.floor(diffSecs / 60);\n  const diffHours = Math.floor(diffMins / 60);\n  const diffDays = Math.floor(diffHours / 24);\n\n  if (diffSecs < 60) return \"just now\";\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays < 7) return `${diffDays}d ago`;\n  return formatDate(date);\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAKO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,gLAAO,EAAC,IAAA,uJAAI,EAAC;AACtB;AAEO,SAAS,SACd,IAAO,EACP,IAAY;IAEZ,IAAI,UAAgD;IACpD,OAAO,CAAC,GAAG;QACT,IAAI,SAAS,aAAa;QAC1B,UAAU,WAAW,IAAM,QAAQ,OAAO;IAC5C;AACF;AAKO,SAAS,YAAY,KAAa;IACvC,OAAO,IAAI,KAAK,YAAY,CAAC,SAAS;QACpC,OAAO;QACP,UAAU;IACZ,GAAG,MAAM,CAAC,QAAQ;AACpB;AAKO,SAAS,eAAe,OAAe;IAC5C,OAAO,KAAK,KAAK,CAAC,UAAU;AAC9B;AAKO,SAAS,eAAe,KAAa;IAC1C,OAAO,QAAQ;AACjB;AAKO,SAAS,mBAAmB,KAAa;IAC9C,MAAM,QAAQ,QAAQ;IACtB,IAAI,UAAU,GAAG,OAAO;IACxB,IAAI,QAAQ,GAAG,OAAO,GAAG,QAAQ,GAAG,QAAQ,CAAC;IAC7C,OAAO,GAAG,MAAM,MAAM,CAAC;AACzB;AAKO,SAAS,qBAAqB,MAAc;IACjD,OAAO,KAAK,KAAK,CAAC,SAAS;AAC7B;AAKO,SAAS,sBAAsB,MAAc,EAAE,GAAW;IAC/D,OAAO,KAAK,KAAK,CAAC,SAAS,CAAC,MAAM,KAAK;AACzC;AAKO,SAAS,YAAY,IAA+B;IACzD,IAAI,CAAC,MAAM,OAAO;IAClB,OAAO,KACJ,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,EACf,IAAI,CAAC,IACL,WAAW,GACX,KAAK,CAAC,GAAG;AACd;AAKO,SAAS,WAAW,IAAmB;IAC5C,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,OAAO;QACP,KAAK;QACL,MAAM;IACR,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAKO,SAAS,eAAe,IAAmB;IAChD,OAAO,IAAI,KAAK,cAAc,CAAC,SAAS;QACtC,OAAO;QACP,KAAK;QACL,MAAM;QACN,MAAM;QACN,QAAQ;IACV,GAAG,MAAM,CAAC,IAAI,KAAK;AACrB;AAKO,SAAS,mBAAmB,IAAmB;IACpD,MAAM,MAAM,IAAI;IAChB,MAAM,OAAO,IAAI,KAAK;IACtB,MAAM,SAAS,IAAI,OAAO,KAAK,KAAK,OAAO;IAC3C,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS;IACrC,MAAM,WAAW,KAAK,KAAK,CAAC,WAAW;IACvC,MAAM,YAAY,KAAK,KAAK,CAAC,WAAW;IACxC,MAAM,WAAW,KAAK,KAAK,CAAC,YAAY;IAExC,IAAI,WAAW,IAAI,OAAO;IAC1B,IAAI,WAAW,IAAI,OAAO,GAAG,SAAS,KAAK,CAAC;IAC5C,IAAI,YAAY,IAAI,OAAO,GAAG,UAAU,KAAK,CAAC;IAC9C,IAAI,WAAW,GAAG,OAAO,GAAG,SAAS,KAAK,CAAC;IAC3C,OAAO,WAAW;AACpB"}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivelinivanov/waliet/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90 border-t border-[#fbe0aa]\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        // Success variant for positive actions\n        success: \"bg-success text-success-foreground hover:bg-success/90\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-10 rounded-md px-3\", // Min 40px for touch targets\n        lg: \"h-11 rounded-md px-8\",\n        xl: \"h-12 rounded-md px-10\", // Extra large for prominent CTAs\n        icon: \"h-11 w-11\", // 44px WCAG AA minimum touch target\n        \"icon-sm\": \"h-9 w-9\", // 36px - desktop only, avoid on mobile\n        \"icon-lg\": \"h-12 w-12\", // 48px for prominent icon buttons\n      },\n      gap: {\n        none: \"gap-0\",\n        sm: \"gap-1.5\",\n        default: \"gap-2\",\n        lg: \"gap-3\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n      gap: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, gap, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, gap, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,iLAAG,EACxB,sVACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;YACN,uCAAuC;YACvC,SAAS;QACX;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;QACA,KAAK;YACH,MAAM;YACN,IAAI;YACJ,SAAS;YACT,IAAI;QACN;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;QACN,KAAK;IACP;AACF;AASF,MAAM,uBAAS,6NAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IAC7D,MAAM,OAAO,UAAU,kLAAI,GAAG;IAC9B,qBAAO,wPAAC;QAAK,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;YAAK;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AACpG;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivelinivanov/waliet/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-12 w-full rounded-lg bg-muted/50 dark:bg-[#0f0f0f] px-4 py-3 text-base text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground/60 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,6NAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,wPAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,wUACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivelinivanov/waliet/hooks/use-toast.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport type { ToastActionElement, ToastProps } from \"@/components/ui/toast\";\n\nconst TOAST_LIMIT = 1;\nconst TOAST_REMOVE_DELAY = 1000000;\n\ntype ToasterToast = ToastProps & {\n  id: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  action?: ToastActionElement;\n};\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const;\n\nlet count = 0;\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER;\n  return count.toString();\n}\n\ntype ActionType = typeof actionTypes;\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"];\n      toast: ToasterToast;\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"];\n      toast: Partial<ToasterToast>;\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"];\n      toastId?: ToasterToast[\"id\"];\n    };\n\ninterface State {\n  toasts: ToasterToast[];\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>();\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return;\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId);\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    });\n  }, TOAST_REMOVE_DELAY);\n\n  toastTimeouts.set(toastId, timeout);\n};\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      };\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      };\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action;\n\n      if (toastId) {\n        addToRemoveQueue(toastId);\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id);\n        });\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      };\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        };\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      };\n  }\n};\n\nconst listeners: Array<(state: State) => void> = [];\n\nlet memoryState: State = { toasts: [] };\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action);\n  listeners.forEach((listener) => {\n    listener(memoryState);\n  });\n}\n\ntype Toast = Omit<ToasterToast, \"id\">;\n\nfunction toast({ ...props }: Toast) {\n  const id = genId();\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    });\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id });\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss();\n      },\n    },\n  });\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  };\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState);\n\n  React.useEffect(() => {\n    listeners.push(setState);\n    return () => {\n      const index = listeners.indexOf(setState);\n      if (index > -1) {\n        listeners.splice(index, 1);\n      }\n    };\n  }, [state]);\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  };\n}\n\nexport { useToast, toast };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivelinivanov/waliet/components/ui/use-toast.ts"],"sourcesContent":["import { useToast, toast } from \"@/hooks/use-toast\";\n\nexport { useToast, toast };\n"],"names":[],"mappings":";AAAA"}},
    {"offset": {"line": 435, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivelinivanov/waliet/components/auth/LinkAccountModal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Mail, Loader2, X } from \"lucide-react\";\nimport { useToast } from \"@/components/ui/use-toast\";\n\ninterface LinkAccountModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  userId: string;\n}\n\nexport function LinkAccountModal({\n  isOpen,\n  onClose,\n  userId,\n}: LinkAccountModalProps) {\n  const router = useRouter();\n  const [email, setEmail] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const { toast } = useToast();\n\n  if (!isOpen) return null;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!email) {\n      toast({\n        variant: \"destructive\",\n        title: \"Email required\",\n        description: \"Please enter your email address.\",\n      });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const response = await fetch(\"/api/users/update-email\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email }),\n      });\n\n      if (!response.ok) {\n        const error = await response.json();\n        throw new Error(error.message || \"Failed to update email\");\n      }\n\n      toast({\n        title: \"Email saved!\",\n        description:\n          \"Your account is now linked. You can access Waliet on the web.\",\n      });\n\n      onClose();\n      router.refresh();\n    } catch (error) {\n      console.error(\"Failed to update email:\", error);\n      toast({\n        variant: \"destructive\",\n        title: \"Error\",\n        description:\n          error instanceof Error ? error.message : \"Failed to save email\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSkip = () => {\n    // Just close for now - will show again on next visit until email is provided\n    onClose();\n  };\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm\">\n      <div className=\"relative w-full max-w-md rounded-lg bg-card border border-border p-6 shadow-lg\">\n        {/* Close button */}\n        <button\n          onClick={handleSkip}\n          className=\"absolute right-4 top-4 text-muted-foreground hover:text-foreground transition-colors\"\n          aria-label=\"Close\"\n        >\n          <X className=\"h-5 w-5\" />\n        </button>\n\n        {/* Header */}\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mb-4\">\n            <Mail className=\"w-6 h-6 text-primary\" />\n          </div>\n          <h2 className=\"text-2xl font-semibold text-foreground tracking-tight\">\n            Enable web access\n          </h2>\n          <p className=\"text-muted-foreground mt-2 text-sm leading-relaxed\">\n            Add your email to sync your wallet across devices and access Waliet\n            directly at{\" \"}\n            <span className=\"text-foreground font-medium\">waliet.com</span>\n          </p>\n        </div>\n\n        {/* Form */}\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"relative\">\n            <Mail className=\"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground\" />\n            <Input\n              type=\"email\"\n              placeholder=\"you@example.com\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              className=\"h-12 pl-12 bg-background border border-border rounded-lg focus-visible:ring-0 focus-visible:ring-offset-0\"\n            />\n          </div>\n\n          <Button\n            type=\"submit\"\n            className=\"w-full h-12 font-semibold rounded-lg\"\n            disabled={loading || !email}\n          >\n            {loading ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              \"Save email\"\n            )}\n          </Button>\n\n          <button\n            type=\"button\"\n            onClick={handleSkip}\n            className=\"w-full text-center text-sm text-muted-foreground hover:text-foreground transition-colors\"\n          >\n            Skip for now\n          </button>\n        </form>\n\n        {/* Info */}\n        <p className=\"text-xs text-muted-foreground text-center mt-6 leading-relaxed\">\n          We'll never share your email or send you spam. This is only used to\n          link your account across authentication methods.\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAPA;;;;;;;;AAeO,SAAS,iBAAiB,EAC/B,MAAM,EACN,OAAO,EACP,MAAM,EACgB;IACtB,MAAM,SAAS,IAAA,yJAAS;IACxB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2NAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2NAAQ,EAAC;IACvC,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,4IAAQ;IAE1B,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,OAAO;YACV,MAAM;gBACJ,SAAS;gBACT,OAAO;gBACP,aAAa;YACf;YACA;QACF;QAEA,WAAW;QACX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,2BAA2B;gBACtD,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;oBAAE;gBAAM;YAC/B;YAEA,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,QAAQ,MAAM,SAAS,IAAI;gBACjC,MAAM,IAAI,MAAM,MAAM,OAAO,IAAI;YACnC;YAEA,MAAM;gBACJ,OAAO;gBACP,aACE;YACJ;YAEA;YACA,OAAO,OAAO;QAChB,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM;gBACJ,SAAS;gBACT,OAAO;gBACP,aACE,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YAC7C;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,aAAa;QACjB,6EAA6E;QAC7E;IACF;IAEA,qBACE,wPAAC;QAAI,WAAU;kBACb,cAAA,wPAAC;YAAI,WAAU;;8BAEb,wPAAC;oBACC,SAAS;oBACT,WAAU;oBACV,cAAW;8BAEX,cAAA,wPAAC,2MAAC;wBAAC,WAAU;;;;;;;;;;;8BAIf,wPAAC;oBAAI,WAAU;;sCACb,wPAAC;4BAAI,WAAU;sCACb,cAAA,wPAAC,oNAAI;gCAAC,WAAU;;;;;;;;;;;sCAElB,wPAAC;4BAAG,WAAU;sCAAwD;;;;;;sCAGtE,wPAAC;4BAAE,WAAU;;gCAAqD;gCAEpD;8CACZ,wPAAC;oCAAK,WAAU;8CAA8B;;;;;;;;;;;;;;;;;;8BAKlD,wPAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,wPAAC;4BAAI,WAAU;;8CACb,wPAAC,oNAAI;oCAAC,WAAU;;;;;;8CAChB,wPAAC,6IAAK;oCACJ,MAAK;oCACL,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,QAAQ;oCACR,WAAU;;;;;;;;;;;;sCAId,wPAAC,+IAAM;4BACL,MAAK;4BACL,WAAU;4BACV,UAAU,WAAW,CAAC;sCAErB,wBACC,wPAAC,sOAAO;gCAAC,WAAU;;;;;uCAEnB;;;;;;sCAIJ,wPAAC;4BACC,MAAK;4BACL,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;8BAMH,wPAAC;oBAAE,WAAU;8BAAiE;;;;;;;;;;;;;;;;;AAOtF"}},
    {"offset": {"line": 668, "column": 0}, "map": {"version":3,"sources":["file:///Users/ivelinivanov/waliet/components/auth/EmailPromptWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEmailPrompt } from \"@/hooks/use-email-prompt\";\nimport { LinkAccountModal } from \"./LinkAccountModal\";\n\ninterface EmailPromptWrapperProps {\n  children: React.ReactNode;\n  userEmail: string | null;\n  userId: string;\n  isWhopUser: boolean;\n  skip?: boolean;\n}\n\n/**\n * Wrapper component that prompts Whop app view users to add their email\n * for account linking and web access\n */\nexport function EmailPromptWrapper({\n  children,\n  userEmail,\n  userId,\n  isWhopUser,\n  skip = false,\n}: EmailPromptWrapperProps) {\n  const { shouldPrompt, dismissPrompt } = useEmailPrompt({\n    userEmail,\n    isWhopUser,\n    skip,\n  });\n\n  return (\n    <>\n      {children}\n      <LinkAccountModal\n        isOpen={shouldPrompt}\n        onClose={dismissPrompt}\n        userId={userId}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAiBO,SAAS,mBAAmB,EACjC,QAAQ,EACR,SAAS,EACT,MAAM,EACN,UAAU,EACV,OAAO,KAAK,EACY;IACxB,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,GAAG,IAAA,2JAAc,EAAC;QACrD;QACA;QACA;IACF;IAEA,qBACE;;YACG;0BACD,wPAAC,qKAAgB;gBACf,QAAQ;gBACR,SAAS;gBACT,QAAQ;;;;;;;;AAIhB"}}]
}