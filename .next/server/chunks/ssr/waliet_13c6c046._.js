module.exports=[50751,a=>{"use strict";var b=a.i(2977),c=a.i(63194),d=a.i(80137),e=a.i(63066),f=a.i(35298),g=a.i(77060),h=a.i(34786),i=a.i(60206),j=a.i(14255),k=a.i(74626),l=a.i(24785),m=a.i(95886),n=a.i(85122),o=a.i(33634),p=a.i(20770);function q({sellers:a,experienceId:d,currentUserId:f,authProvider:j}){let[q,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("recent"),[v,w]=(0,c.useState)({verifiedOnly:!1,hasRateOnly:!1,minRating:0,maxPrice:null}),[x,y]=(0,c.useState)(!1),z=Math.max(...a.filter(a=>null!==a.hourlyRate).map(a=>a.hourlyRate),1e4),A=[...a.filter(a=>{let b=!q||a.user.name?.toLowerCase().includes(q.toLowerCase())||a.bio?.toLowerCase().includes(q.toLowerCase())||a.tagline?.toLowerCase().includes(q.toLowerCase()),c=!v.verifiedOnly||a.isVerified,d=!v.hasRateOnly||null!==a.hourlyRate,e=0===v.minRating||(a.averageRating||0)>=v.minRating,f=!v.maxPrice||a.hourlyRate&&a.hourlyRate<=v.maxPrice;return b&&c&&d&&e&&f})].sort((a,b)=>{switch(t){case"rating":return(b.averageRating||0)-(a.averageRating||0);case"sessions":return b.totalSessionsCompleted-a.totalSessionsCompleted;case"price_low":if(null===a.hourlyRate)return 1;if(null===b.hourlyRate)return -1;return a.hourlyRate-b.hourlyRate;case"price_high":if(null===a.hourlyRate)return 1;if(null===b.hourlyRate)return -1;return b.hourlyRate-a.hourlyRate;default:return 0}}),B=a=>null===a?null:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(a/100),C=[v.verifiedOnly,v.hasRateOnly,v.minRating>0,null!==v.maxPrice].filter(Boolean).length,D=()=>{w({verifiedOnly:!1,hasRateOnly:!1,minRating:0,maxPrice:null})};return(0,b.jsxs)("div",{className:"p-4 sm:p-6 lg:p-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Browse Sellers"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Find experts and book their time. Discover talented people ready to help you."})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(e.MdSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),(0,b.jsx)(i.Input,{placeholder:"Search by name, skill, or keyword...",value:q,onChange:a=>s(a.target.value),className:"pl-10 h-11"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(m.Sheet,{open:x,onOpenChange:y,children:[(0,b.jsx)(m.SheetTrigger,{asChild:!0,children:(0,b.jsxs)(h.Button,{variant:"outline",className:"gap-2 h-11",children:[(0,b.jsx)(e.MdFilterList,{className:"h-5 w-5"}),"Filters",C>0&&(0,b.jsx)(k.Badge,{variant:"secondary",className:"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:C})]})}),(0,b.jsxs)(m.SheetContent,{children:[(0,b.jsxs)(m.SheetHeader,{children:[(0,b.jsx)(m.SheetTitle,{children:"Filters"}),(0,b.jsx)(m.SheetDescription,{children:"Refine your search to find the perfect match"})]}),(0,b.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(n.Checkbox,{id:"verified",checked:v.verifiedOnly,onCheckedChange:a=>w(b=>({...b,verifiedOnly:!0===a}))}),(0,b.jsxs)(o.Label,{htmlFor:"verified",className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)(e.MdVerified,{className:"h-4 w-4 text-primary"}),"Verified sellers only"]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(n.Checkbox,{id:"hasRate",checked:v.hasRateOnly,onCheckedChange:a=>w(b=>({...b,hasRateOnly:!0===a}))}),(0,b.jsx)(o.Label,{htmlFor:"hasRate",className:"cursor-pointer",children:"Only show sellers accepting bookings"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(o.Label,{className:"flex items-center gap-2",children:[(0,b.jsx)(e.MdStar,{className:"h-4 w-4 text-yellow-500"}),"Minimum Rating:"," ",v.minRating>0?`${v.minRating}+`:"Any"]}),(0,b.jsx)(p.Slider,{value:[v.minRating],onValueChange:([a])=>w(b=>({...b,minRating:a})),max:5,step:.5,className:"w-full"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,b.jsx)("span",{children:"Any"}),(0,b.jsx)("span",{children:"5 stars"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(o.Label,{children:["Max Price:"," ",v.maxPrice?B(v.maxPrice)+"/hr":"Any"]}),(0,b.jsx)(p.Slider,{value:[v.maxPrice||z],onValueChange:([a])=>w(b=>({...b,maxPrice:a===z?null:a})),max:z,step:500,className:"w-full"}),(0,b.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,b.jsx)("span",{children:"$0"}),(0,b.jsx)("span",{children:B(z)})]})]}),C>0&&(0,b.jsx)(h.Button,{variant:"outline",className:"w-full",onClick:D,children:"Clear All Filters"})]})]})]}),(0,b.jsxs)(l.Select,{value:t,onValueChange:u,children:[(0,b.jsx)(l.SelectTrigger,{className:"w-[160px] h-11",children:(0,b.jsx)(l.SelectValue,{placeholder:"Sort by"})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"recent",children:"Recently Joined"}),(0,b.jsx)(l.SelectItem,{value:"rating",children:"Top Rated"}),(0,b.jsx)(l.SelectItem,{value:"sessions",children:"Most Sessions"}),(0,b.jsx)(l.SelectItem,{value:"price_low",children:"Price: Low to High"}),(0,b.jsx)(l.SelectItem,{value:"price_high",children:"Price: High to Low"})]})]})]})]}),C>0&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[v.verifiedOnly&&(0,b.jsxs)(k.Badge,{variant:"secondary",className:"gap-1",children:["Verified Only",(0,b.jsx)("button",{onClick:()=>w(a=>({...a,verifiedOnly:!1})),children:(0,b.jsx)(e.MdClose,{className:"h-3 w-3"})})]}),v.hasRateOnly&&(0,b.jsxs)(k.Badge,{variant:"secondary",className:"gap-1",children:["Accepting Bookings",(0,b.jsx)("button",{onClick:()=>w(a=>({...a,hasRateOnly:!1})),children:(0,b.jsx)(e.MdClose,{className:"h-3 w-3"})})]}),v.minRating>0&&(0,b.jsxs)(k.Badge,{variant:"secondary",className:"gap-1",children:[v.minRating,"+ Stars",(0,b.jsx)("button",{onClick:()=>w(a=>({...a,minRating:0})),children:(0,b.jsx)(e.MdClose,{className:"h-3 w-3"})})]}),v.maxPrice&&(0,b.jsxs)(k.Badge,{variant:"secondary",className:"gap-1",children:["Max ",B(v.maxPrice),"/hr",(0,b.jsx)("button",{onClick:()=>w(a=>({...a,maxPrice:null})),children:(0,b.jsx)(e.MdClose,{className:"h-3 w-3"})})]})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mb-6",children:[A.length," ",1===A.length?"seller":"sellers"," ","available"]}),0===A.length?(0,b.jsx)(g.Card,{children:(0,b.jsxs)(g.CardContent,{className:"py-16 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(e.MdStorefront,{className:"w-8 h-8 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:q||C>0?"No sellers match your criteria":"No sellers available yet"}),(0,b.jsx)("p",{className:"text-muted-foreground max-w-sm mx-auto",children:q||C>0?"Try adjusting your search or filters to find more sellers.":"Be the first to offer your time! Set up your seller profile to get started."}),(q||C>0)&&(0,b.jsx)(h.Button,{variant:"outline",className:"mt-4",onClick:()=>{s(""),D()},children:"Clear All Filters"})]})}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(a=>(0,b.jsx)(r,{seller:a,experienceId:d,formatRate:B},a.userId))})]})}function r({seller:a,experienceId:c,formatRate:i}){let k=null!==a.hourlyRate,l=i(a.hourlyRate),m=c?`/experiences/${c}/seller/${a.user.id}`:`/sellers/${a.user.id}`,n=c?`/experiences/${c}/seller/${a.user.id}?action=buy`:`/sellers/${a.user.id}?action=buy`;return(0,b.jsxs)(g.Card,{className:"group hover:border-primary/50 hover:shadow-lg transition-all duration-200 overflow-hidden",children:[a.isVerified&&(0,b.jsx)("div",{className:"h-1 bg-gradient-to-r from-primary to-primary/50"}),(0,b.jsxs)(g.CardContent,{className:(0,f.cn)("p-6",a.isVerified&&"pt-5"),children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)(j.Avatar,{className:"h-14 w-14 ring-2 ring-background shadow-sm",children:[(0,b.jsx)(j.AvatarImage,{src:a.user.avatar||void 0}),(0,b.jsx)(j.AvatarFallback,{className:"bg-gradient-to-br from-muted to-muted/80 text-muted-foreground text-lg",children:a.user.name?.[0]?.toUpperCase()||"?"})]}),a.isVerified&&(0,b.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-primary text-primary-foreground rounded-full p-0.5",children:(0,b.jsx)(e.MdVerified,{className:"h-4 w-4"})})]}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("h3",{className:"font-semibold text-foreground truncate text-lg",children:a.user.name||"Anonymous"}),a.tagline&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate mt-0.5",children:a.tagline})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[a.averageRating?(0,b.jsxs)("div",{className:"flex items-center gap-1 bg-yellow-500/10 text-yellow-600 dark:text-yellow-400 px-2 py-0.5 rounded-full",children:[(0,b.jsx)(e.MdStar,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.averageRating.toFixed(1)})]}):null,a.totalSessionsCompleted>0&&(0,b.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,b.jsx)(e.MdAccessTime,{className:"h-4 w-4"}),(0,b.jsxs)("span",{className:"text-sm",children:[a.totalSessionsCompleted," sessions"]})]})]})]})]}),a.bio&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-4 line-clamp-2 leading-relaxed",children:a.bio}),(0,b.jsxs)("div",{className:"flex items-center justify-between mt-5 pt-4 border-t",children:[(0,b.jsx)("div",{children:k?(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-2xl font-bold text-primary",children:l}),(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"/hr"})]}):(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Rate not set"})}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(d.default,{href:m,children:(0,b.jsx)(h.Button,{variant:"ghost",size:"sm",children:"Profile"})}),k?(0,b.jsx)(d.default,{href:n,children:(0,b.jsx)(h.Button,{size:"sm",children:"Buy Hours"})}):(0,b.jsx)(h.Button,{disabled:!0,variant:"secondary",size:"sm",children:"Buy Hours"})]})]})]})]})}a.s(["BrowsePageClient",()=>q])},64341,a=>{"use strict";var b=a.i(2977),c=a.i(63194),d=a.i(69281),e=a.i(34786),f=a.i(31672),g=a.i(63066);function h({user:a}){(0,d.useRouter)();let[h,i]=(0,c.useState)(!1),j=async()=>{i(!0);try{(await fetch("/api/auth/logout",{method:"POST"})).ok&&(window.location.href="/login")}catch(a){console.error("Logout failed:",a),i(!1)}},k=a.name||a.email||"User",l=k[0]?.toUpperCase()||"?";return(0,b.jsxs)(f.DropdownMenu,{children:[(0,b.jsx)(f.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",className:"flex items-center gap-3 h-auto py-2 px-3",children:[(0,b.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:k}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["via ","whop"===a.provider?"Whop":"Email"]})]}),a.avatar?(0,b.jsx)("img",{src:a.avatar,alt:"",className:"w-9 h-9 rounded-full ring-2 ring-border"}):(0,b.jsx)("div",{className:"w-9 h-9 rounded-full bg-primary/10 flex items-center justify-center ring-2 ring-border",children:(0,b.jsx)("span",{className:"text-sm font-medium text-primary",children:l})})]})}),(0,b.jsxs)(f.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,b.jsx)(f.DropdownMenuLabel,{children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:k}),a.email&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground font-normal",children:a.email})]})}),(0,b.jsx)(f.DropdownMenuSeparator,{}),(0,b.jsxs)(f.DropdownMenuItem,{disabled:!0,children:[(0,b.jsx)(g.MdPerson,{className:"mr-2 h-4 w-4"}),"Profile"]}),(0,b.jsx)(f.DropdownMenuSeparator,{}),(0,b.jsxs)(f.DropdownMenuItem,{onClick:j,disabled:h,className:"text-destructive focus:text-destructive",children:[(0,b.jsx)(g.MdLogout,{className:"mr-2 h-4 w-4"}),h?"Signing out...":"Sign out"]})]})]})}a.s(["UserMenu",()=>h])}];

//# sourceMappingURL=waliet_13c6c046._.js.map