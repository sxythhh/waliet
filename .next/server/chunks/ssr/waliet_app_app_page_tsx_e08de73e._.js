module.exports=[42652,a=>{"use strict";let b,c,d,e,f;var g,h=a.i(2977),i=a.i(63194);let j=a=>{let b,c=new Set,d=(a,d)=>{let e="function"==typeof a?a(b):a;if(!Object.is(e,b)){let a=b;b=(null!=d?d:"object"!=typeof e||null===e)?e:Object.assign({},b,e),c.forEach(c=>c(b,a))}},e=()=>b,f={setState:d,getState:e,getInitialState:()=>g,subscribe:a=>(c.add(a),()=>c.delete(a))},g=b=a(d,e,f);return f},k=a=>b=>{try{let c=a(b);if(c instanceof Promise)return c;return{then:a=>k(a)(c),catch(a){return this}}}catch(a){return{then(a){return this},catch:b=>k(b)(a)}}},l="browse",m="dashboard",n=(e=(g=(b=(a,b)=>({activeTab:l,mode:"buyer",setTab:b=>a({activeTab:b}),setMode:b=>a({mode:b,activeTab:"seller"===b?m:l}),toggleMode:()=>{let c="seller"===b().mode?"buyer":"seller";a({mode:c,activeTab:"seller"===c?m:l})}}),c={name:"waliet-tab-state",partialize:a=>({mode:a.mode})},(a,d,e)=>{let f,g={storage:function(a,b){let c;try{c=a()}catch(a){return}return{getItem:a=>{var b;let d=a=>null===a?null:JSON.parse(a,void 0),e=null!=(b=c.getItem(a))?b:null;return e instanceof Promise?e.then(d):d(e)},setItem:(a,b)=>c.setItem(a,JSON.stringify(b,void 0)),removeItem:a=>c.removeItem(a)}}(()=>localStorage),partialize:a=>a,version:0,merge:(a,b)=>({...b,...a}),...c},h=!1,i=0,j=new Set,l=new Set,m=g.storage;if(!m)return b((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${g.name}', the given storage is currently unavailable.`),a(...b)},d,e);let n=()=>{let a=g.partialize({...d()});return m.setItem(g.name,{state:a,version:g.version})},o=e.setState;e.setState=(a,b)=>(o(a,b),n());let p=b((...b)=>(a(...b),n()),d,e);e.getInitialState=()=>p;let q=()=>{var b,c;if(!m)return;let e=++i;h=!1,j.forEach(a=>{var b;return a(null!=(b=d())?b:p)});let o=(null==(c=g.onRehydrateStorage)?void 0:c.call(g,null!=(b=d())?b:p))||void 0;return k(m.getItem.bind(m))(g.name).then(a=>{if(a)if("number"!=typeof a.version||a.version===g.version)return[!1,a.state];else{if(g.migrate){let b=g.migrate(a.state,a.version);return b instanceof Promise?b.then(a=>[!0,a]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(b=>{var c;if(e!==i)return;let[h,j]=b;if(a(f=g.merge(j,null!=(c=d())?c:p),!0),h)return n()}).then(()=>{e===i&&(null==o||o(f,void 0),f=d(),h=!0,l.forEach(a=>a(f)))}).catch(a=>{e===i&&(null==o||o(void 0,a))})};return e.persist={setOptions:a=>{g={...g,...a},a.storage&&(m=a.storage)},clearStorage:()=>{null==m||m.removeItem(g.name)},getOptions:()=>g,rehydrate:()=>q(),hasHydrated:()=>h,onHydrate:a=>(j.add(a),()=>{j.delete(a)}),onFinishHydration:a=>(l.add(a),()=>{l.delete(a)})},g.skipHydration||q(),f||p}))?j(g):j,Object.assign(f=a=>(function(a,b=a=>a){let c=i.default.useSyncExternalStore(a.subscribe,i.default.useCallback(()=>b(a.getState()),[a,b]),i.default.useCallback(()=>b(a.getInitialState()),[a,b]));return i.default.useDebugValue(c),c})(e,a),e),f);var o=a.i(71980),p=a.i(37780),q=a.i(34133),r=a.i(909),s=a.i(16658),t=a.i(75939),u=a.i(96087),v=class extends r.Subscribable{constructor(a,b){super(),this.options=b,this.#a=a,this.#b=null,this.#c=(0,s.pendingThenable)(),this.bindMethods(),this.setOptions(b)}#a;#d=void 0;#e=void 0;#f=void 0;#g;#h;#c;#b;#i;#j;#k;#l;#m;#n;#o=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#d.addObserver(this),w(this.#d,this.options)?this.#p():this.updateResult(),this.#q())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return x(this.#d,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return x(this.#d,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#r(),this.#s(),this.#d.removeObserver(this)}setOptions(a){let b=this.options,c=this.#d;if(this.options=this.#a.defaultQueryOptions(a),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,t.resolveEnabled)(this.options.enabled,this.#d))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#t(),this.#d.setOptions(this.options),b._defaulted&&!(0,t.shallowEqualObjects)(this.options,b)&&this.#a.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#d,observer:this});let d=this.hasListeners();d&&y(this.#d,c,this.options,b)&&this.#p(),this.updateResult(),d&&(this.#d!==c||(0,t.resolveEnabled)(this.options.enabled,this.#d)!==(0,t.resolveEnabled)(b.enabled,this.#d)||(0,t.resolveStaleTime)(this.options.staleTime,this.#d)!==(0,t.resolveStaleTime)(b.staleTime,this.#d))&&this.#u();let e=this.#v();d&&(this.#d!==c||(0,t.resolveEnabled)(this.options.enabled,this.#d)!==(0,t.resolveEnabled)(b.enabled,this.#d)||e!==this.#n)&&this.#w(e)}getOptimisticResult(a){var b,c;let d=this.#a.getQueryCache().build(this.#a,a),e=this.createResult(d,a);return b=this,c=e,(0,t.shallowEqualObjects)(b.getCurrentResult(),c)||(this.#f=e,this.#h=this.options,this.#g=this.#d.state),e}getCurrentResult(){return this.#f}trackResult(a,b){return new Proxy(a,{get:(a,c)=>(this.trackProp(c),b?.(c),"promise"===c&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#c.status||this.#c.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,c))})}trackProp(a){this.#o.add(a)}getCurrentQuery(){return this.#d}refetch({...a}={}){return this.fetch({...a})}fetchOptimistic(a){let b=this.#a.defaultQueryOptions(a),c=this.#a.getQueryCache().build(this.#a,b);return c.fetch().then(()=>this.createResult(c,b))}fetch(a){return this.#p({...a,cancelRefetch:a.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#f))}#p(a){this.#t();let b=this.#d.fetch(this.options,a);return a?.throwOnError||(b=b.catch(t.noop)),b}#u(){this.#r();let a=(0,t.resolveStaleTime)(this.options.staleTime,this.#d);if(t.isServer||this.#f.isStale||!(0,t.isValidTimeout)(a))return;let b=(0,t.timeUntilStale)(this.#f.dataUpdatedAt,a);this.#l=u.timeoutManager.setTimeout(()=>{this.#f.isStale||this.updateResult()},b+1)}#v(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#d):this.options.refetchInterval)??!1}#w(a){this.#s(),this.#n=a,!t.isServer&&!1!==(0,t.resolveEnabled)(this.options.enabled,this.#d)&&(0,t.isValidTimeout)(this.#n)&&0!==this.#n&&(this.#m=u.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||o.focusManager.isFocused())&&this.#p()},this.#n))}#q(){this.#u(),this.#w(this.#v())}#r(){this.#l&&(u.timeoutManager.clearTimeout(this.#l),this.#l=void 0)}#s(){this.#m&&(u.timeoutManager.clearInterval(this.#m),this.#m=void 0)}createResult(a,b){let c,d=this.#d,e=this.options,f=this.#f,g=this.#g,h=this.#h,i=a!==d?a.state:this.#e,{state:j}=a,k={...j},l=!1;if(b._optimisticResults){let c=this.hasListeners(),f=!c&&w(a,b),g=c&&y(a,d,b,e);(f||g)&&(k={...k,...(0,q.fetchState)(j.data,a.options)}),"isRestoring"===b._optimisticResults&&(k.fetchStatus="idle")}let{error:m,errorUpdatedAt:n,status:o}=k;c=k.data;let p=!1;if(void 0!==b.placeholderData&&void 0===c&&"pending"===o){let a;f?.isPlaceholderData&&b.placeholderData===h?.placeholderData?(a=f.data,p=!0):a="function"==typeof b.placeholderData?b.placeholderData(this.#k?.state.data,this.#k):b.placeholderData,void 0!==a&&(o="success",c=(0,t.replaceData)(f?.data,a,b),l=!0)}if(b.select&&void 0!==c&&!p)if(f&&c===g?.data&&b.select===this.#i)c=this.#j;else try{this.#i=b.select,c=b.select(c),c=(0,t.replaceData)(f?.data,c,b),this.#j=c,this.#b=null}catch(a){this.#b=a}this.#b&&(m=this.#b,c=this.#j,n=Date.now(),o="error");let r="fetching"===k.fetchStatus,u="pending"===o,v="error"===o,x=u&&r,A=void 0!==c,B={status:o,fetchStatus:k.fetchStatus,isPending:u,isSuccess:"success"===o,isError:v,isInitialLoading:x,isLoading:x,data:c,dataUpdatedAt:k.dataUpdatedAt,error:m,errorUpdatedAt:n,failureCount:k.fetchFailureCount,failureReason:k.fetchFailureReason,errorUpdateCount:k.errorUpdateCount,isFetched:k.dataUpdateCount>0||k.errorUpdateCount>0,isFetchedAfterMount:k.dataUpdateCount>i.dataUpdateCount||k.errorUpdateCount>i.errorUpdateCount,isFetching:r,isRefetching:r&&!u,isLoadingError:v&&!A,isPaused:"paused"===k.fetchStatus,isPlaceholderData:l,isRefetchError:v&&A,isStale:z(a,b),refetch:this.refetch,promise:this.#c,isEnabled:!1!==(0,t.resolveEnabled)(b.enabled,a)};if(this.options.experimental_prefetchInRender){let b=void 0!==B.data,c="error"===B.status&&!b,e=a=>{c?a.reject(B.error):b&&a.resolve(B.data)},f=()=>{e(this.#c=B.promise=(0,s.pendingThenable)())},g=this.#c;switch(g.status){case"pending":a.queryHash===d.queryHash&&e(g);break;case"fulfilled":(c||B.data!==g.value)&&f();break;case"rejected":c&&B.error===g.reason||f()}}return B}updateResult(){let a=this.#f,b=this.createResult(this.#d,this.options);if(this.#g=this.#d.state,this.#h=this.options,void 0!==this.#g.data&&(this.#k=this.#d),(0,t.shallowEqualObjects)(b,a))return;this.#f=b;let c=()=>{if(!a)return!0;let{notifyOnChangeProps:b}=this.options,c="function"==typeof b?b():b;if("all"===c||!c&&!this.#o.size)return!0;let d=new Set(c??this.#o);return this.options.throwOnError&&d.add("error"),Object.keys(this.#f).some(b=>this.#f[b]!==a[b]&&d.has(b))};this.#x({listeners:c()})}#t(){let a=this.#a.getQueryCache().build(this.#a,this.options);if(a===this.#d)return;let b=this.#d;this.#d=a,this.#e=a.state,this.hasListeners()&&(b?.removeObserver(this),a.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#q()}#x(a){p.notifyManager.batch(()=>{a.listeners&&this.listeners.forEach(a=>{a(this.#f)}),this.#a.getQueryCache().notify({query:this.#d,type:"observerResultsUpdated"})})}};function w(a,b){return!1!==(0,t.resolveEnabled)(b.enabled,a)&&void 0===a.state.data&&("error"!==a.state.status||!1!==b.retryOnMount)||void 0!==a.state.data&&x(a,b,b.refetchOnMount)}function x(a,b,c){if(!1!==(0,t.resolveEnabled)(b.enabled,a)&&"static"!==(0,t.resolveStaleTime)(b.staleTime,a)){let d="function"==typeof c?c(a):c;return"always"===d||!1!==d&&z(a,b)}return!1}function y(a,b,c,d){return(a!==b||!1===(0,t.resolveEnabled)(d.enabled,a))&&(!c.suspense||"error"!==a.state.status)&&z(a,c)}function z(a,b){return!1!==(0,t.resolveEnabled)(b.enabled,a)&&a.isStaleByTime((0,t.resolveStaleTime)(b.staleTime,a))}var A=a.i(17175),B=i.createContext((d=!1,{clearReset:()=>{d=!1},reset:()=>{d=!0},isReset:()=>d})),C=i.createContext(!1);C.Provider;var D=(a,b,c)=>b.fetchOptimistic(a).catch(()=>{c.clearReset()});function E(a,b){return function(a,b,c){let d,e=i.useContext(C),f=i.useContext(B),g=(0,A.useQueryClient)(c),h=g.defaultQueryOptions(a);g.getDefaultOptions().queries?._experimental_beforeQuery?.(h);let j=g.getQueryCache().get(h.queryHash);if(h._optimisticResults=e?"isRestoring":"optimistic",h.suspense){let a=a=>"static"===a?a:Math.max(a??1e3,1e3),b=h.staleTime;h.staleTime="function"==typeof b?(...c)=>a(b(...c)):a(b),"number"==typeof h.gcTime&&(h.gcTime=Math.max(h.gcTime,1e3))}d=j?.state.error&&"function"==typeof h.throwOnError?(0,t.shouldThrowError)(h.throwOnError,[j.state.error,j]):h.throwOnError,(h.suspense||h.experimental_prefetchInRender||d)&&!f.isReset()&&(h.retryOnMount=!1),i.useEffect(()=>{f.clearReset()},[f]);let k=!g.getQueryCache().get(h.queryHash),[l]=i.useState(()=>new b(g,h)),m=l.getOptimisticResult(h),n=!e&&!1!==a.subscribed;if(i.useSyncExternalStore(i.useCallback(a=>{let b=n?l.subscribe(p.notifyManager.batchCalls(a)):t.noop;return l.updateResult(),b},[l,n]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),i.useEffect(()=>{l.setOptions(h)},[h,l]),h?.suspense&&m.isPending)throw D(h,l,f);if((({result:a,errorResetBoundary:b,throwOnError:c,query:d,suspense:e})=>a.isError&&!b.isReset()&&!a.isFetching&&d&&(e&&void 0===a.data||(0,t.shouldThrowError)(c,[a.error,d])))({result:m,errorResetBoundary:f,throwOnError:h.throwOnError,query:j,suspense:h.suspense}))throw m.error;if(g.getDefaultOptions().queries?._experimental_afterQuery?.(h,m),h.experimental_prefetchInRender&&!t.isServer&&m.isLoading&&m.isFetching&&!e){let a=k?D(h,l,f):j?.promise;a?.catch(t.noop).finally(()=>{l.updateResult()})}return h.notifyOnChangeProps?m:l.trackResult(m)}(a,v,b)}var F=a.i(13493);async function G(){let a=await fetch("/api/app/profile",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch profile");return(await a.json()).user}function H(){return E({queryKey:F.queryKeys.profile.me(),queryFn:G,staleTime:3e5})}var I=a.i(76987),J=a.i(69281),K=a.i(63066),L=a.i(35298),M=a.i(14255),N=a.i(41230);function O({active:a,className:b}){return(0,h.jsx)(I.default,{src:a?"/icons/WalietHomeActive.png":"/icons/WalietHomeInactive.png",alt:"Home",width:16,height:16,className:(0,L.cn)(b,a?"brightness-0 invert dark:brightness-100 dark:invert-0":"dark:group-hover:brightness-0 dark:group-hover:invert")})}let P="HOME",Q=[{title:"Browse",tab:"browse",icon:K.MdSavings},{title:"Wallet",tab:"wallet",icon:P},{title:"Offers",tab:"offers",icon:K.MdRequestPage},{title:"Settings",tab:"profile",icon:K.MdSettings}],R=[{title:"Dashboard",tab:"dashboard",icon:P},{title:"Requests",tab:"requests",icon:K.MdSchedule},{title:"Offers",tab:"offers",icon:K.MdRequestPage},{title:"Earnings",tab:"earnings",icon:K.MdAttachMoney},{title:"Analytics",tab:"analytics",icon:K.MdBarChart}];function S({user:a,isLoading:b}){let c=(0,J.useRouter)(),{activeTab:d,mode:e,setTab:f,toggleMode:g}=n(),j="seller"===e&&a?.sellerProfile,[k,l]=(0,i.useState)(!1),[m,o]=(0,i.useState)(!0),p=async()=>{l(!1),c.push("/api/auth/signout")};return(0,h.jsx)("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,h.jsxs)("div",{className:"flex h-14 items-center justify-between px-4",children:[(0,h.jsx)("div",{className:"hidden md:flex w-24"}),(0,h.jsx)("nav",{className:"hidden md:flex items-center justify-center gap-1 flex-1",children:(j?R:Q).map(a=>{let b=d===a.tab,c=a.icon===P,e=a.icon;return(0,h.jsxs)("button",{onClick:()=>{f(a.tab)},className:(0,L.cn)("group flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors cursor-pointer",b?"bg-primary text-primary-foreground dark:bg-primary/10 dark:text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[c?(0,h.jsx)(O,{active:b,className:"h-4 w-4"}):(0,h.jsx)(e,{className:"h-4 w-4"}),(0,h.jsx)("span",{children:a.title})]},a.tab)})}),(0,h.jsxs)("div",{className:"flex items-center justify-end gap-2 w-24 md:w-auto",children:[a?.sellerProfile&&(0,h.jsxs)("button",{onClick:()=>{g()},className:"flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium bg-muted hover:bg-muted/80 transition-colors cursor-pointer",children:[(0,h.jsx)(K.MdSwapHoriz,{className:"h-4 w-4"}),(0,h.jsx)("span",{className:"hidden sm:inline",children:j?"Buyer Mode":"Seller Mode"})]}),(0,h.jsxs)(N.Popover,{open:k,onOpenChange:l,children:[(0,h.jsx)(N.PopoverTrigger,{asChild:!0,children:(0,h.jsxs)("button",{className:"flex items-center gap-2 rounded-lg p-1.5 hover:bg-muted transition-colors cursor-pointer",children:[b?(0,h.jsx)("div",{className:"h-8 w-8 rounded-full bg-muted animate-pulse"}):(0,h.jsxs)(M.Avatar,{className:"h-8 w-8",children:[(0,h.jsx)(M.AvatarImage,{src:a?.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{className:"bg-muted text-muted-foreground text-xs",children:a?.name?.[0]?.toUpperCase()||"?"})]}),(0,h.jsx)(K.MdKeyboardArrowDown,{className:"h-4 w-4 text-muted-foreground hidden sm:block"})]})}),(0,h.jsxs)(N.PopoverContent,{className:"w-56 p-2",align:"end",children:[(0,h.jsxs)("div",{className:"px-2 py-1.5 mb-2 border-b border-border",children:[(0,h.jsx)("p",{className:"font-medium text-sm truncate",children:a?.name||"Anonymous"}),(0,h.jsx)("p",{className:"text-xs text-muted-foreground",children:j?"Seller Mode":"Buyer Mode"})]}),(0,h.jsxs)("div",{className:"space-y-1",children:[(0,h.jsxs)("button",{onClick:()=>{o(!m),document.documentElement.classList.toggle("dark")},className:"flex items-center gap-3 w-full rounded-lg p-2 hover:bg-accent transition-colors cursor-pointer",children:[m?(0,h.jsx)(K.MdLightMode,{className:"h-4 w-4"}):(0,h.jsx)(K.MdDarkMode,{className:"h-4 w-4"}),(0,h.jsx)("span",{className:"text-sm",children:m?"Light Mode":"Dark Mode"})]}),(0,h.jsxs)("button",{onClick:p,className:"flex items-center gap-3 w-full rounded-lg p-2 hover:bg-accent transition-colors text-destructive cursor-pointer",children:[(0,h.jsx)(K.MdLogout,{className:"h-4 w-4"}),(0,h.jsx)("span",{className:"text-sm",children:"Sign Out"})]})]})]})]})]})]})})}function T({active:a,className:b}){return(0,h.jsx)(I.default,{src:a?"/icons/WalietHomeActive.png":"/icons/WalietHomeInactive.png",alt:"Home",width:20,height:20,className:(0,L.cn)(b,a?"brightness-0 invert dark:brightness-100 dark:invert-0":"")})}let U="HOME",V=[{title:"Browse",tab:"browse",icon:K.MdSavings},{title:"Wallet",tab:"wallet",icon:U},{title:"Offers",tab:"offers",icon:K.MdRequestPage},{title:"Settings",tab:"profile",icon:K.MdSettings}],W=[{title:"Dashboard",tab:"dashboard",icon:U},{title:"Requests",tab:"requests",icon:K.MdSchedule},{title:"Offers",tab:"offers",icon:K.MdRequestPage},{title:"Earnings",tab:"earnings",icon:K.MdAttachMoney},{title:"Analytics",tab:"analytics",icon:K.MdBarChart}];function X({currentTab:a}){let{mode:b,setTab:c}=n(),d=("seller"===b?W:V).slice(0,5);return(0,h.jsx)("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-50 bg-background border-t border-border pb-[env(safe-area-inset-bottom)]",children:(0,h.jsx)("div",{className:"flex items-center justify-around px-2 py-2",children:d.map(b=>{let d=a===b.tab,e=b.icon===U,f=b.icon;return(0,h.jsxs)("button",{onClick:()=>{c(b.tab)},className:(0,L.cn)("group flex flex-col items-center gap-1 px-3 py-2 rounded-xl min-w-[64px] transition-colors cursor-pointer",d?"bg-primary text-primary-foreground dark:bg-primary/10 dark:text-primary":"text-muted-foreground"),children:[e?(0,h.jsx)(T,{active:d,className:"h-5 w-5"}):(0,h.jsx)(f,{className:"h-5 w-5"}),(0,h.jsx)("span",{className:"text-[10px] font-medium",children:b.title})]},b.tab)})})})}function Y(a){return{id:a.id,userId:a.userId,hourlyRate:a.hourlyRate,bio:a.bio,tagline:a.tagline,averageRating:a.averageRating,totalSessionsCompleted:a.totalSessionsCompleted,isVerified:a.isVerified,hasSellerProfile:!0,user:a.user}}async function Z(){let a=await fetch("/api/app/sellers",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch sellers");return(await a.json()).sellers.map(Y)}function $(a){return{id:a.id,balanceUnits:a.balanceUnits,reservedUnits:a.reservedUnits,avgPurchasePricePerUnit:a.avgPurchasePricePerUnit,totalPaid:a.totalPaid,seller:a.seller}}async function _(){let a=await fetch("/api/app/wallet",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch wallet balances");return(await a.json()).balances.map($)}function aa(a){return{id:a.id,units:a.units,topic:a.topic,scheduledAt:a.scheduledAt,status:a.status,meetingUrl:a.meetingUrl,buyer:a.buyer,seller:a.seller}}async function ab(a){let b=new URLSearchParams;a&&b.set("role",a);let c=`/api/app/sessions${b.toString()?`?${b}`:""}`,d=await fetch(c,{credentials:"include"});if(!d.ok)throw Error("Failed to fetch sessions");return(await d.json()).sessions.map(aa)}function ac(a){return E({queryKey:F.queryKeys.sessions.list(a),queryFn:()=>ab(a),staleTime:3e4})}var ad=a.i(77060),ae=a.i(34786),af=a.i(60206),ag=a.i(74626),ah=a.i(24785),ai=a.i(95886),aj=a.i(20770),ak=a.i(80137);function al({seller:a,experienceId:b,variant:c="default",className:d,standalone:e}){let f=e?`/sellers/${a.user.id}`:`/experiences/${b}/seller/${a.user.id}`,g=e?`/sellers/${a.user.id}?action=buy`:`/experiences/${b}/seller/${a.user.id}?action=buy`,i=null!==a.hourlyRate,j=i?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(a.hourlyRate/100):null;return"compact"===c?(0,h.jsx)(ad.Card,{variant:"interactive",className:(0,L.cn)("overflow-hidden",d),children:(0,h.jsx)(ad.CardContent,{className:"p-4",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsxs)(M.Avatar,{className:"h-10 w-10",children:[(0,h.jsx)(M.AvatarImage,{src:a.user.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{className:"bg-muted text-muted-foreground",children:a.user.name?.[0]?.toUpperCase()||"?"})]}),a.isVerified&&(0,h.jsx)("div",{className:"absolute -bottom-0.5 -right-0.5 bg-primary text-primary-foreground rounded-full p-0.5",children:(0,h.jsx)(K.MdVerified,{className:"h-3 w-3"})})]}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsx)("p",{className:"font-medium text-foreground truncate text-sm",children:a.user.name||"Anonymous"}),i&&(0,h.jsxs)("p",{className:"text-sm text-primary font-semibold",children:[j,"/hr"]})]}),(0,h.jsx)(ak.default,{href:f,children:(0,h.jsx)(ae.Button,{variant:"ghost",size:"sm",children:"View"})})]})})}):(0,h.jsxs)(ad.Card,{variant:"featured"===c?"featured":"interactive",className:(0,L.cn)("overflow-hidden group",d),children:[a.isVerified&&(0,h.jsx)("div",{className:"h-1 bg-primary"}),(0,h.jsxs)(ad.CardContent,{className:(0,L.cn)("p-6",a.isVerified&&"pt-5"),children:[(0,h.jsxs)("div",{className:"flex items-start gap-4",children:[(0,h.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,h.jsxs)(M.Avatar,{className:"h-14 w-14 ring-2 ring-background shadow-[var(--shadow-sm)]",children:[(0,h.jsx)(M.AvatarImage,{src:a.user.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{className:"bg-muted text-muted-foreground text-lg",children:a.user.name?.[0]?.toUpperCase()||"?"})]}),a.isVerified&&(0,h.jsx)("div",{className:"absolute -bottom-1 -right-1 bg-primary text-primary-foreground rounded-full p-0.5 shadow-[var(--shadow-sm)]",children:(0,h.jsx)(K.MdVerified,{className:"h-4 w-4"})})]}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsxs)("div",{className:"min-w-0",children:[(0,h.jsx)("h3",{className:"font-semibold text-foreground truncate text-lg tracking-tight",children:a.user.name||"Anonymous"}),a.tagline&&(0,h.jsx)("p",{className:"text-sm text-muted-foreground truncate mt-0.5",children:a.tagline})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[a.averageRating?(0,h.jsxs)(ag.Badge,{variant:"warning-subtle",className:"gap-1",children:[(0,h.jsx)(K.MdStar,{className:"h-3.5 w-3.5"}),a.averageRating.toFixed(1)]}):null,a.totalSessionsCompleted>0&&(0,h.jsxs)("div",{className:"flex items-center gap-1 text-muted-foreground",children:[(0,h.jsx)(K.MdAccessTime,{className:"h-4 w-4"}),(0,h.jsxs)("span",{className:"text-sm",children:[a.totalSessionsCompleted," sessions"]})]})]})]})]}),a.bio&&(0,h.jsx)("p",{className:"text-sm text-muted-foreground mt-4 line-clamp-2 leading-relaxed",children:a.bio}),(0,h.jsxs)("div",{className:"flex items-center justify-between mt-5 pt-4 border-t border-border",children:[(0,h.jsx)("div",{children:i?(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{className:"text-2xl font-bold text-primary",children:j}),(0,h.jsx)("span",{className:"text-muted-foreground text-sm",children:"/hr"})]}):(0,h.jsx)("span",{className:"text-muted-foreground text-sm",children:"Rate not set"})}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)(ak.default,{href:f,children:(0,h.jsx)(ae.Button,{variant:"ghost",size:"sm",children:"Profile"})}),i?(0,h.jsx)(ak.default,{href:g,children:(0,h.jsx)(ae.Button,{size:"sm",children:"Buy Hours"})}):(0,h.jsx)(ae.Button,{disabled:!0,variant:"secondary",size:"sm",children:"Buy Hours"})]})]})]})]})}function am({balance:a,onClick:b,className:c}){let d=a.seller,e=d.sellerProfile?.hourlyRate||0,f=2*a.avgPurchasePricePerUnit,g=a.balanceUnits/2*e,i=f>0?(e-f)/f*100:0;return(0,h.jsx)("button",{onClick:b,className:(0,L.cn)("w-full text-left bg-card rounded-xl border border-border p-4 sm:p-5","transition-all duration-[var(--duration-normal)]","hover:border-primary/50 hover:shadow-[var(--shadow-md)]","focus:outline-none focus:ring-2 focus:ring-primary/20","group cursor-pointer",c),children:(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)("div",{className:"relative flex-shrink-0",children:[(0,h.jsxs)(M.Avatar,{className:"h-14 w-14 ring-2 ring-background shadow-[var(--shadow-sm)]",children:[(0,h.jsx)(M.AvatarImage,{src:d.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{className:"bg-primary/10 text-primary font-semibold text-lg",children:d.name?.[0]?.toUpperCase()||"?"})]}),d.sellerProfile?.averageRating&&(0,h.jsxs)("div",{className:"absolute -bottom-1 -right-1 flex items-center gap-0.5 bg-background rounded-full px-1.5 py-0.5 text-xs font-medium shadow-[var(--shadow-xs)] border border-border",children:[(0,h.jsx)(K.MdStar,{className:"h-3 w-3 text-warning"}),d.sellerProfile.averageRating.toFixed(1)]})]}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,h.jsx)("h3",{className:"font-semibold text-foreground truncate",children:d.name||"Anonymous"}),0!==i&&(0,h.jsxs)(ag.Badge,{variant:i>0?"success-subtle":"destructive-subtle",className:"text-[10px] px-1.5 py-0 h-5",children:[i>0?(0,h.jsx)(K.MdTrendingUp,{className:"h-3 w-3 mr-0.5"}):(0,h.jsx)(K.MdTrendingDown,{className:"h-3 w-3 mr-0.5"}),Math.abs(i).toFixed(0),"%"]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,h.jsxs)("span",{className:"flex items-center gap-1",children:[(0,h.jsx)(K.MdAccessTime,{className:"h-3.5 w-3.5"}),(0,L.formatUnitsToHours)(a.balanceUnits)]}),(0,h.jsx)("span",{className:"text-muted-foreground/50",children:"Â·"}),(0,h.jsxs)("span",{children:[(0,L.formatCents)(e),"/hr"]})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsxs)("div",{className:"text-right",children:[(0,h.jsx)("p",{className:"text-lg font-semibold text-foreground",children:(0,L.formatCents)(g)}),(0,h.jsx)("p",{className:"text-xs text-muted-foreground",children:"value"})]}),(0,h.jsx)(K.MdChevronRight,{className:"h-5 w-5 text-muted-foreground/50 group-hover:text-primary transition-colors"})]})]})})}let an={REQUESTED:{label:"Pending",variant:"warning-subtle",icon:K.MdHourglassEmpty},ACCEPTED:{label:"Scheduled",variant:"success-subtle",icon:K.MdCalendarToday},DECLINED:{label:"Declined",variant:"destructive-subtle",icon:K.MdCancel},CANCELLED:{label:"Cancelled",variant:"outline",icon:K.MdCancel},IN_PROGRESS:{label:"In Progress",variant:"success",icon:K.MdVideocam},COMPLETED:{label:"Completed",variant:"secondary",icon:K.MdCheckCircle},AWAITING_CONFIRMATION:{label:"Awaiting Confirmation",variant:"warning-subtle",icon:K.MdSchedule},PAID_OUT:{label:"Paid Out",variant:"secondary",icon:K.MdCheckCircle},RATED:{label:"Completed",variant:"secondary",icon:K.MdCheckCircle},NO_SHOW_BUYER:{label:"No Show",variant:"destructive-subtle",icon:K.MdError},NO_SHOW_SELLER:{label:"No Show",variant:"destructive-subtle",icon:K.MdError},DISPUTED:{label:"Disputed",variant:"destructive",icon:K.MdError}};function ao({session:a,experienceId:b,userId:c,onAccept:d,onDecline:e,onLeaveReview:f,className:g,standalone:i}){let j=a.buyer.id===c,k=j?a.seller:a.buyer,l=an[a.status],m=l.icon,n=a.units/2;return(0,h.jsx)(ad.Card,{variant:"interactive",className:(0,L.cn)("overflow-hidden",g),children:(0,h.jsxs)(ad.CardContent,{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex items-start gap-4",children:[(0,h.jsxs)(M.Avatar,{className:"h-12 w-12 flex-shrink-0",children:[(0,h.jsx)(M.AvatarImage,{src:k.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{className:"bg-muted text-muted-foreground",children:k.name?.[0]?.toUpperCase()||"?"})]}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,h.jsxs)("div",{className:"min-w-0",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,h.jsx)("h3",{className:"font-semibold text-foreground truncate",children:k.name||"Anonymous"}),(0,h.jsx)(ag.Badge,{variant:"outline",className:"text-[10px]",children:j?"You're buying":"You're selling"})]}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-1 mt-0.5",children:a.topic})]}),(0,h.jsxs)(ag.Badge,{variant:l.variant,className:"flex items-center gap-1 flex-shrink-0",children:[(0,h.jsx)(m,{className:"h-3 w-3"}),l.label]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-4 mt-3",children:[(0,h.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,h.jsx)(K.MdSchedule,{className:"h-4 w-4"}),n," ",1===n?"hour":"hours"]}),a.scheduledAt&&(0,h.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,h.jsx)(K.MdCalendarToday,{className:"h-4 w-4"}),(0,L.formatDateTime)(a.scheduledAt)]})]})]})]}),"ACCEPTED"===a.status&&a.meetingUrl&&(0,h.jsx)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-border",children:(0,h.jsx)("a",{href:a.meetingUrl,target:"_blank",rel:"noopener noreferrer",children:(0,h.jsxs)(ae.Button,{className:"gap-2",children:[(0,h.jsx)(K.MdVideocam,{className:"h-4 w-4"}),"Join Meeting"]})})}),"REQUESTED"===a.status&&!j&&(0,h.jsxs)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-border",children:[(0,h.jsx)(ae.Button,{onClick:d,children:"Accept"}),(0,h.jsx)(ae.Button,{variant:"outline",onClick:e,children:"Decline"})]}),"COMPLETED"===a.status&&(0,h.jsx)("div",{className:"flex gap-2 mt-4 pt-4 border-t border-border",children:(0,h.jsx)(ae.Button,{variant:"outline",onClick:f,children:"Leave Review"})})]})})}var ap=a.i(50185);function aq({className:a}){return(0,h.jsx)(ad.Card,{className:(0,L.cn)("overflow-hidden",a),children:(0,h.jsxs)(ad.CardContent,{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex items-start gap-4",children:[(0,h.jsx)(ap.Skeleton,{className:"h-14 w-14 rounded-full flex-shrink-0"}),(0,h.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,h.jsx)(ap.Skeleton,{className:"h-5 w-1/2"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-1/3"}),(0,h.jsxs)("div",{className:"flex items-center gap-2 pt-1",children:[(0,h.jsx)(ap.Skeleton,{className:"h-5 w-12 rounded-full"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-20"})]})]})]}),(0,h.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,h.jsx)(ap.Skeleton,{className:"h-4 w-full"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-3/4"})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between mt-5 pt-4 border-t border-border",children:[(0,h.jsx)(ap.Skeleton,{className:"h-8 w-20"}),(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsx)(ap.Skeleton,{className:"h-10 w-16"}),(0,h.jsx)(ap.Skeleton,{className:"h-10 w-24"})]})]})]})})}function ar({className:a}){return(0,h.jsx)("div",{className:(0,L.cn)("w-full bg-card rounded-xl border border-border p-4 sm:p-5",a),children:(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsx)("div",{className:"relative flex-shrink-0",children:(0,h.jsx)(ap.Skeleton,{className:"h-14 w-14 rounded-full"})}),(0,h.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,h.jsx)(ap.Skeleton,{className:"h-5 w-1/3"}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)(ap.Skeleton,{className:"h-4 w-16"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-20"})]})]}),(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsxs)("div",{className:"text-right space-y-1",children:[(0,h.jsx)(ap.Skeleton,{className:"h-6 w-16"}),(0,h.jsx)(ap.Skeleton,{className:"h-3 w-10 ml-auto"})]}),(0,h.jsx)(ap.Skeleton,{className:"h-5 w-5 rounded"})]})]})})}function as({className:a}){return(0,h.jsx)(ad.Card,{className:(0,L.cn)("overflow-hidden",a),children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex items-start gap-4",children:[(0,h.jsx)(ap.Skeleton,{className:"h-12 w-12 rounded-full flex-shrink-0"}),(0,h.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-start justify-between",children:[(0,h.jsxs)("div",{className:"space-y-1",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)(ap.Skeleton,{className:"h-5 w-32"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-20 rounded-full"})]}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-48"})]}),(0,h.jsx)(ap.Skeleton,{className:"h-5 w-20 rounded-full"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-4 pt-1",children:[(0,h.jsx)(ap.Skeleton,{className:"h-4 w-16"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-32"})]})]})]})})})}function at({className:a}){return(0,h.jsx)(ad.Card,{variant:"bordered",className:(0,L.cn)("overflow-hidden",a),children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)(ap.Skeleton,{className:"h-10 w-10 rounded-full flex-shrink-0"}),(0,h.jsxs)("div",{className:"flex-1 space-y-1.5",children:[(0,h.jsx)(ap.Skeleton,{className:"h-4 w-20"}),(0,h.jsx)(ap.Skeleton,{className:"h-7 w-16"})]})]})})})}function au({count:a=6,className:b}){return(0,h.jsx)("div",{className:(0,L.cn)("grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",b),children:Array.from({length:a}).map((a,b)=>(0,h.jsx)(aq,{},b))})}function av({count:a=3,className:b}){return(0,h.jsx)("div",{className:(0,L.cn)("space-y-3",b),children:Array.from({length:a}).map((a,b)=>(0,h.jsx)(ar,{},b))})}function aw({count:a=3,className:b}){return(0,h.jsx)("div",{className:(0,L.cn)("space-y-4",b),children:Array.from({length:a}).map((a,b)=>(0,h.jsx)(as,{},b))})}function ax({count:a=4,className:b}){return(0,h.jsx)("div",{className:(0,L.cn)("grid grid-cols-2 lg:grid-cols-4 gap-4",b),children:Array.from({length:a}).map((a,b)=>(0,h.jsx)(at,{},b))})}let ay={"no-sellers":{icon:K.MdStorefront,title:"Be the first seller",description:"Set up your seller profile to start offering your time to the community.",action:{label:"Become a Seller"}},"no-wallet-balance":{icon:K.MdSavings,title:"No hours yet",description:"Browse members to find experts and purchase hours for 1:1 sessions.",action:{label:"Browse Members"}},"no-offers":{icon:K.MdCalendarToday,title:"No offers yet",description:"When you book an offer or someone books with you, it will appear here.",action:{label:"Browse Members"}},"no-search-results":{icon:K.MdSearch,title:"No results found",description:"Try adjusting your search or filters to find what you're looking for."},"no-earnings":{icon:K.MdAttachMoney,title:"No earnings yet",description:"Complete sessions with buyers to start earning. Earnings are paid out 48 hours after session completion."},"no-members":{icon:K.MdPeople,title:"No members yet",description:"Be the first to join this community and start offering your expertise."}},az={sm:{container:"py-8",iconWrapper:"p-2.5",icon:"h-8 w-8",title:"text-base",description:"text-sm"},default:{container:"py-12",iconWrapper:"p-3",icon:"h-10 w-10",title:"text-lg",description:"text-sm"},lg:{container:"py-16",iconWrapper:"p-4",icon:"h-12 w-12",title:"text-xl",description:"text-base"}};function aA({preset:a,icon:b,title:c,description:d,action:e,secondaryAction:f,className:g,size:i="default",children:j}){let k=a?ay[a]:null,l=b??k?.icon,m=c??k?.title??"",n=d??k?.description,o=az[i];return(0,h.jsxs)("div",{className:(0,L.cn)("flex flex-col items-center justify-center text-center px-4",o.container,g),children:[l&&(0,h.jsx)("div",{className:(0,L.cn)("mb-4 rounded-full bg-muted",o.iconWrapper),children:(0,h.jsx)(l,{className:(0,L.cn)(o.icon,"text-muted-foreground")})}),m&&(0,h.jsx)("h3",{className:(0,L.cn)(o.title,"font-semibold text-foreground mb-2 tracking-tight"),children:m}),n&&(0,h.jsx)("p",{className:(0,L.cn)(o.description,"text-muted-foreground max-w-sm mb-4"),children:n}),j,(e||f)&&(0,h.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[e&&(0,h.jsxs)(ae.Button,{onClick:e.onClick,variant:e.variant||"default",size:"sm"===i?"sm":"default",children:[e.icon&&(0,h.jsx)(e.icon,{className:"h-4 w-4"}),e.label]}),f&&(0,h.jsxs)(ae.Button,{onClick:f.onClick,variant:f.variant||"outline",size:"sm"===i?"sm":"default",children:[f.icon&&(0,h.jsx)(f.icon,{className:"h-4 w-4"}),f.label]})]})]})}function aB({experienceId:a,members:b,isLoading:c,standalone:d}){let[e,f]=(0,i.useState)(""),[g,j]=(0,i.useState)("recent"),[k,l]=(0,i.useState)({verifiedOnly:!1,hasRateOnly:!1,minRating:0,maxPrice:null,minSessions:0,hasReviews:!1}),[m,n]=(0,i.useState)(!1),[o,p]=(0,i.useState)(!1),[q,r]=(0,i.useState)([]),[s,t]=(0,i.useState)(!1);(0,i.useEffect)(()=>{o&&!d&&0===q.length&&(t(!0),fetch("/api/sellers?all=true").then(a=>a.json()).then(a=>{r(a.sellers||[])}).catch(a=>{console.error("Failed to fetch all users:",a)}).finally(()=>{t(!1)}))},[o,d,q.length]);let u=o&&!d?q:b,v=o&&!d?s:c,w=Math.max(...u.filter(a=>null!==a.hourlyRate).map(a=>a.hourlyRate),1e4),x=[...u.filter(a=>{let b=!e||a.user.name?.toLowerCase().includes(e.toLowerCase())||a.bio?.toLowerCase().includes(e.toLowerCase())||a.tagline?.toLowerCase().includes(e.toLowerCase()),c=!k.verifiedOnly||a.isVerified,d=!k.hasRateOnly||null!==a.hourlyRate,f=0===k.minRating||(a.averageRating||0)>=k.minRating,g=!k.maxPrice||a.hourlyRate&&a.hourlyRate<=k.maxPrice,h=0===k.minSessions||a.totalSessionsCompleted>=k.minSessions,i=!k.hasReviews||null!==a.averageRating&&a.averageRating>0;return b&&c&&d&&f&&g&&h&&i})].sort((a,b)=>{switch(g){case"rating":return(b.averageRating||0)-(a.averageRating||0);case"sessions":return b.totalSessionsCompleted-a.totalSessionsCompleted;case"price_low":if(null===a.hourlyRate)return 1;if(null===b.hourlyRate)return -1;return a.hourlyRate-b.hourlyRate;case"price_high":if(null===a.hourlyRate)return 1;if(null===b.hourlyRate)return -1;return b.hourlyRate-a.hourlyRate;default:return 0}}),y=a=>null===a?null:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(a/100),z=[k.verifiedOnly,k.hasRateOnly,k.minRating>0,null!==k.maxPrice,k.minSessions>0,k.hasReviews].filter(Boolean).length,A=()=>{l({verifiedOnly:!1,hasRateOnly:!1,minSessions:0,hasReviews:!1,minRating:0,maxPrice:null})};return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8",children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:d?"Browse Sellers":o?"All Waliet Sellers":"Community Members"}),(0,h.jsx)("p",{className:"text-muted-foreground mt-1",children:d?"Find sellers and book their time":o?"Browse all Waliet sellers with rates":"Browse members in this community and book their time"})]}),(0,h.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mb-6",children:[(0,h.jsxs)("div",{className:"relative flex-1",children:[(0,h.jsx)(K.MdSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,h.jsx)(af.Input,{placeholder:"Search by name, skill, or keyword...",value:e,onChange:a=>f(a.target.value),className:"pl-9 h-10"})]}),(0,h.jsxs)("div",{className:"flex gap-2",children:[!d&&(0,h.jsx)(ae.Button,{variant:"outline",onClick:()=>p(!o),className:"h-10 px-4",children:o?"All Waliet":"Community"}),(0,h.jsxs)(ai.Sheet,{open:m,onOpenChange:n,children:[(0,h.jsx)(ai.SheetTrigger,{asChild:!0,children:(0,h.jsxs)(ae.Button,{variant:"outline",className:"h-10 gap-2 px-4",children:[(0,h.jsx)(K.MdFilterList,{className:"h-4 w-4"}),"Filters",z>0&&(0,h.jsx)(ag.Badge,{variant:"secondary",className:"ml-1 h-5 w-5 p-0 flex items-center justify-center text-xs",children:z})]})}),(0,h.jsxs)(ai.SheetContent,{className:"overflow-y-auto",children:[(0,h.jsx)(ai.SheetHeader,{className:"pb-6 border-b border-border",children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)(ai.SheetTitle,{className:"flex items-center gap-2",children:[(0,h.jsx)(K.MdTune,{className:"h-5 w-5"}),"Filters"]}),(0,h.jsx)(ai.SheetDescription,{className:"mt-1",children:"Find your perfect match"})]}),z>0&&(0,h.jsx)(ae.Button,{variant:"ghost",size:"sm",onClick:A,className:"text-muted-foreground hover:text-foreground",children:"Clear all"})]})}),(0,h.jsxs)("div",{className:"py-6 space-y-8",children:[(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsx)("h3",{className:"text-xs font-medium text-muted-foreground",children:"Quick Filters"}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,h.jsxs)("button",{onClick:()=>l(a=>({...a,verifiedOnly:!a.verifiedOnly})),className:`flex items-center gap-2 p-3 rounded-xl border transition-all ${k.verifiedOnly?"border-primary bg-primary/10 text-primary":"border-border bg-card hover:border-muted-foreground/30"}`,children:[(0,h.jsx)(K.MdVerified,{className:"h-5 w-5"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Verified"})]}),(0,h.jsxs)("button",{onClick:()=>l(a=>({...a,hasRateOnly:!a.hasRateOnly})),className:`flex items-center gap-2 p-3 rounded-xl border transition-all ${k.hasRateOnly?"border-primary bg-primary/10 text-primary":"border-border bg-card hover:border-muted-foreground/30"}`,children:[(0,h.jsx)(K.MdAttachMoney,{className:"h-5 w-5"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Has Rate"})]}),(0,h.jsxs)("button",{onClick:()=>l(a=>({...a,hasReviews:!a.hasReviews})),className:`flex items-center gap-2 p-3 rounded-xl border transition-all ${k.hasReviews?"border-primary bg-primary/10 text-primary":"border-border bg-card hover:border-muted-foreground/30"}`,children:[(0,h.jsx)(K.MdRateReview,{className:"h-5 w-5"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Has Reviews"})]}),(0,h.jsxs)("button",{onClick:()=>l(a=>({...a,minSessions:a.minSessions>0?0:1})),className:`flex items-center gap-2 p-3 rounded-xl border transition-all ${k.minSessions>0?"border-primary bg-primary/10 text-primary":"border-border bg-card hover:border-muted-foreground/30"}`,children:[(0,h.jsx)(K.MdAccessTime,{className:"h-5 w-5"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Experienced"})]})]})]}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("h3",{className:"text-xs font-medium text-muted-foreground",children:"Minimum Rating"}),k.minRating>0&&(0,h.jsx)("button",{onClick:()=>l(a=>({...a,minRating:0})),className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(a=>(0,h.jsx)("button",{onClick:()=>l(b=>({...b,minRating:b.minRating===a?0:a})),className:"p-1 rounded-lg hover:bg-muted transition-colors",children:a<=k.minRating?(0,h.jsx)(K.MdStar,{className:"h-8 w-8 text-warning"}):(0,h.jsx)(K.MdStarOutline,{className:"h-8 w-8 text-muted-foreground/40 hover:text-warning/60"})},a)),(0,h.jsx)("span",{className:"ml-3 text-sm text-muted-foreground",children:k.minRating>0?`${k.minRating}+ stars`:"Any rating"})]})]}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("h3",{className:"text-xs font-medium text-muted-foreground",children:"Experience Level"}),k.minSessions>0&&(0,h.jsx)("button",{onClick:()=>l(a=>({...a,minSessions:0})),className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear"})]}),(0,h.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:0,label:"Any"},{value:1,label:"1+ sessions"},{value:5,label:"5+ sessions"},{value:10,label:"10+ sessions"},{value:25,label:"25+ sessions"}].map(a=>(0,h.jsx)("button",{onClick:()=>l(b=>({...b,minSessions:a.value})),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${k.minSessions===a.value?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:a.label},a.value))})]}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("h3",{className:"text-xs font-medium text-muted-foreground",children:"Max Hourly Rate"}),null!==k.maxPrice&&(0,h.jsx)("button",{onClick:()=>l(a=>({...a,maxPrice:null})),className:"text-xs text-muted-foreground hover:text-foreground",children:"Clear"})]}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:null,label:"Any"},{value:2500,label:"$25"},{value:5e3,label:"$50"},{value:1e4,label:"$100"},{value:2e4,label:"$200"}].map(a=>(0,h.jsx)("button",{onClick:()=>l(b=>({...b,maxPrice:a.value})),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-all ${k.maxPrice===a.value?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:a.label},a.value??"any"))}),(0,h.jsxs)("div",{className:"pt-2",children:[(0,h.jsx)(aj.Slider,{value:[k.maxPrice||w],onValueChange:([a])=>l(b=>({...b,maxPrice:a===w?null:a})),max:w,min:500,step:500,className:"w-full"}),(0,h.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[(0,h.jsx)("span",{children:"$5/hr"}),(0,h.jsx)("span",{className:"font-medium text-foreground",children:k.maxPrice?y(k.maxPrice)+"/hr":"No limit"}),(0,h.jsxs)("span",{children:[y(w),"/hr"]})]})]})]})]}),z>0&&(0,h.jsx)("div",{className:"pt-4 border-t border-border",children:(0,h.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,h.jsxs)("span",{className:"text-muted-foreground",children:[z," filter",1!==z?"s":""," active"]}),(0,h.jsxs)("span",{className:"font-medium text-foreground",children:[x.length," result",1!==x.length?"s":""]})]})})]})]})]}),(0,h.jsxs)(ah.Select,{value:g,onValueChange:j,children:[(0,h.jsx)(ah.SelectTrigger,{className:"h-10 w-[160px]",children:(0,h.jsx)(ah.SelectValue,{placeholder:"Sort by"})}),(0,h.jsxs)(ah.SelectContent,{children:[(0,h.jsx)(ah.SelectItem,{value:"recent",children:"Recently Joined"}),(0,h.jsx)(ah.SelectItem,{value:"rating",children:"Top Rated"}),(0,h.jsx)(ah.SelectItem,{value:"sessions",children:"Most Sessions"}),(0,h.jsx)(ah.SelectItem,{value:"price_low",children:"Price: Low to High"}),(0,h.jsx)(ah.SelectItem,{value:"price_high",children:"Price: High to Low"})]})]})]})]}),z>0&&(0,h.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[k.verifiedOnly&&(0,h.jsxs)(ag.Badge,{variant:"secondary",className:"gap-1 pl-2",children:[(0,h.jsx)(K.MdVerified,{className:"h-3 w-3"}),"Verified",(0,h.jsx)("button",{onClick:()=>l(a=>({...a,verifiedOnly:!1})),className:"ml-1 hover:text-foreground",children:(0,h.jsx)(K.MdClose,{className:"h-3 w-3"})})]}),k.hasRateOnly&&(0,h.jsxs)(ag.Badge,{variant:"secondary",className:"gap-1 pl-2",children:[(0,h.jsx)(K.MdAttachMoney,{className:"h-3 w-3"}),"Has Rate",(0,h.jsx)("button",{onClick:()=>l(a=>({...a,hasRateOnly:!1})),className:"ml-1 hover:text-foreground",children:(0,h.jsx)(K.MdClose,{className:"h-3 w-3"})})]}),k.hasReviews&&(0,h.jsxs)(ag.Badge,{variant:"secondary",className:"gap-1 pl-2",children:[(0,h.jsx)(K.MdRateReview,{className:"h-3 w-3"}),"Has Reviews",(0,h.jsx)("button",{onClick:()=>l(a=>({...a,hasReviews:!1})),className:"ml-1 hover:text-foreground",children:(0,h.jsx)(K.MdClose,{className:"h-3 w-3"})})]}),k.minRating>0&&(0,h.jsxs)(ag.Badge,{variant:"secondary",className:"gap-1 pl-2",children:[(0,h.jsx)(K.MdStar,{className:"h-3 w-3 text-warning"}),k.minRating,"+ Stars",(0,h.jsx)("button",{onClick:()=>l(a=>({...a,minRating:0})),className:"ml-1 hover:text-foreground",children:(0,h.jsx)(K.MdClose,{className:"h-3 w-3"})})]}),k.minSessions>0&&(0,h.jsxs)(ag.Badge,{variant:"secondary",className:"gap-1 pl-2",children:[(0,h.jsx)(K.MdAccessTime,{className:"h-3 w-3"}),k.minSessions,"+ Sessions",(0,h.jsx)("button",{onClick:()=>l(a=>({...a,minSessions:0})),className:"ml-1 hover:text-foreground",children:(0,h.jsx)(K.MdClose,{className:"h-3 w-3"})})]}),k.maxPrice&&(0,h.jsxs)(ag.Badge,{variant:"secondary",className:"gap-1 pl-2",children:["Max ",y(k.maxPrice),"/hr",(0,h.jsx)("button",{onClick:()=>l(a=>({...a,maxPrice:null})),className:"ml-1 hover:text-foreground",children:(0,h.jsx)(K.MdClose,{className:"h-3 w-3"})})]})]}),(0,h.jsxs)("p",{className:"text-sm text-muted-foreground mb-4",children:[x.length," ",1===x.length?"seller":"sellers",!d&&!o&&" in this community"]}),v?(0,h.jsx)(au,{count:6}):0===x.length?(0,h.jsx)(ad.Card,{variant:"bordered",children:(0,h.jsx)(ad.CardContent,{className:"p-0",children:e||z>0?(0,h.jsx)(aA,{preset:"no-search-results",action:{label:"Clear Filters",onClick:()=>{f(""),A()}}}):(0,h.jsx)(aA,{preset:"no-members"})})}):(0,h.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(b=>(0,h.jsx)(al,{seller:b,experienceId:a,standalone:d},b.userId))})]})}aA.displayName="EmptyState";var aC=a.i(85900);function aD({experienceId:a,balances:b,isLoading:c,standalone:d}){let e=d?"/app?tab=browse":`/experiences/${a}?tab=browse`,[f,g]=(0,i.useState)(null),j=b.reduce((a,b)=>a+b.balanceUnits,0)/2,k=b.reduce((a,b)=>{let c=b.seller.sellerProfile?.hourlyRate||0;return a+b.balanceUnits/2*c},0),l=b.reduce((a,b)=>a+b.totalPaid,0),m=k-l,n=l>0?(k-l)/l*100:0;return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 max-w-4xl mx-auto",children:[(0,h.jsxs)("div",{className:"mb-8",children:[(0,h.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Wallet"}),(0,h.jsx)("p",{className:"text-muted-foreground mt-1",children:"Your purchased hours and balances"})]}),(0,h.jsx)(ad.Card,{variant:"bordered",className:"mb-6",children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-6",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Total Hours"}),(0,h.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,h.jsx)("span",{className:"text-5xl font-bold tracking-tight text-foreground tabular-nums",children:j}),(0,h.jsx)("span",{className:"text-lg text-muted-foreground",children:"hrs"})]})]}),(0,h.jsxs)("div",{className:"flex gap-8 sm:gap-12",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Value"}),(0,h.jsx)("p",{className:"text-2xl font-semibold text-foreground tabular-nums",children:(0,L.formatCents)(k)})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Return"}),(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsxs)("span",{className:(0,L.cn)("text-2xl font-semibold tabular-nums",m>=0?"text-success":"text-destructive"),children:[m>=0?"+":"",(0,L.formatCents)(m)]}),l>0&&(0,h.jsxs)(ag.Badge,{variant:m>=0?"success-subtle":"destructive-subtle",className:"text-xs",children:[m>=0?(0,h.jsx)(K.MdTrendingUp,{className:"h-3 w-3 mr-1"}):(0,h.jsx)(K.MdTrendingDown,{className:"h-3 w-3 mr-1"}),Math.abs(n).toFixed(1),"%"]})]})]})]})]})})}),(0,h.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[(0,h.jsxs)("div",{className:"bg-card border border-border rounded-xl p-4 text-center",children:[(0,h.jsx)("div",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-primary/10 mb-2",children:(0,h.jsx)(K.MdSavings,{className:"h-4 w-4 text-primary"})}),(0,h.jsx)("p",{className:"text-xl font-semibold text-foreground tabular-nums",children:(0,L.formatCents)(l)}),(0,h.jsx)("p",{className:"text-xs text-muted-foreground",children:"Invested"})]}),(0,h.jsxs)("div",{className:"bg-card border border-border rounded-xl p-4 text-center",children:[(0,h.jsx)("div",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-success/10 mb-2",children:(0,h.jsx)(K.MdTrendingUp,{className:"h-4 w-4 text-success"})}),(0,h.jsx)("p",{className:"text-xl font-semibold text-foreground tabular-nums",children:(0,L.formatCents)(k)}),(0,h.jsx)("p",{className:"text-xs text-muted-foreground",children:"Current Value"})]}),(0,h.jsxs)("div",{className:"bg-card border border-border rounded-xl p-4 text-center",children:[(0,h.jsx)("div",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-violet-500/10 mb-2",children:(0,h.jsx)(K.MdPeople,{className:"h-4 w-4 text-violet-500"})}),(0,h.jsx)("p",{className:"text-xl font-semibold text-foreground tabular-nums",children:b.length}),(0,h.jsx)("p",{className:"text-xs text-muted-foreground",children:1===b.length?"Seller":"Sellers"})]})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Holdings"}),b.length>0&&(0,h.jsx)(ak.default,{href:e,children:(0,h.jsxs)(ae.Button,{variant:"outline",size:"sm",className:"gap-1.5",children:["Buy Hours",(0,h.jsx)(K.MdArrowForward,{className:"h-4 w-4"})]})})]}),c?(0,h.jsx)(av,{count:3}):0===b.length?(0,h.jsx)(ad.Card,{variant:"bordered",children:(0,h.jsx)(ad.CardContent,{className:"p-0",children:(0,h.jsx)(aA,{preset:"no-wallet-balance",size:"lg",children:(0,h.jsx)(ak.default,{href:e,children:(0,h.jsxs)(ae.Button,{size:"lg",className:"gap-2",children:["Browse Members",(0,h.jsx)(K.MdArrowForward,{className:"h-4 w-4"})]})})})})}):(0,h.jsx)("div",{className:"space-y-3",children:b.map(a=>(0,h.jsx)(am,{balance:a,onClick:()=>g(a)},a.id))}),(0,h.jsx)(ai.Sheet,{open:!!f,onOpenChange:a=>!a&&g(null),children:(0,h.jsx)(ai.SheetContent,{side:"right",width:"lg",className:"overflow-y-auto",children:f&&(0,h.jsx)(aE,{balance:f,experienceId:a,standalone:d,onClose:()=>g(null)})})})]})}function aE({balance:a,experienceId:b,standalone:c,onClose:d}){let e=c?`/book/${a.seller.id}`:`/experiences/${b}/book/${a.seller.id}`,f=c?`/sellers/${a.seller.id}`:`/experiences/${b}/seller/${a.seller.id}`,g=a.seller,i=g.sellerProfile?.hourlyRate||0,j=2*a.avgPurchasePricePerUnit,k=a.balanceUnits/2*i,l=a.balanceUnits/2*j,m=k-l,n=l>0?(k-l)/l*100:0;return(0,h.jsxs)("div",{className:"h-full flex flex-col",children:[(0,h.jsx)(ai.SheetHeader,{className:"py-6 border-b border-border",children:(0,h.jsxs)("div",{className:"flex items-start justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)(M.Avatar,{className:"h-14 w-14 border-2 border-border shadow-[var(--shadow-sm)]",children:[(0,h.jsx)(M.AvatarImage,{src:g.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{className:"bg-primary/10 text-primary font-semibold text-lg",children:g.name?.[0]?.toUpperCase()||"?"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)(ai.SheetTitle,{className:"text-xl font-semibold",children:g.name||"Anonymous"}),(0,h.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[g.sellerProfile?.averageRating&&(0,h.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,h.jsx)(K.MdStar,{className:"h-4 w-4 text-warning"}),(0,h.jsx)("span",{children:g.sellerProfile.averageRating.toFixed(1)})]}),g.sellerProfile?.totalSessionsCompleted&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"text-border",children:"Â·"}),(0,h.jsxs)("span",{className:"text-sm text-muted-foreground",children:[g.sellerProfile.totalSessionsCompleted," sessions"]})]})]})]})]}),(0,h.jsx)(ai.SheetClose,{asChild:!0,children:(0,h.jsx)(ae.Button,{variant:"ghost",size:"icon",className:"rounded-full -mr-2 -mt-2",children:(0,h.jsx)(K.MdClose,{className:"h-5 w-5"})})})]})}),(0,h.jsxs)("div",{className:"flex-1 py-6 space-y-6 overflow-y-auto",children:[(0,h.jsxs)("div",{className:"bg-muted/30 rounded-xl p-5 border border-border",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Your Balance"}),0!==m&&(0,h.jsxs)(ag.Badge,{variant:m>=0?"success-subtle":"destructive-subtle",className:"gap-1",children:[m>=0?(0,h.jsx)(K.MdTrendingUp,{className:"h-3 w-3"}):(0,h.jsx)(K.MdTrendingDown,{className:"h-3 w-3"}),m>=0?"+":"",n.toFixed(1),"%"]})]}),(0,h.jsx)("div",{className:"flex items-baseline gap-2 mb-1",children:(0,h.jsx)("span",{className:"text-4xl font-bold text-foreground tabular-nums",children:(0,L.formatUnitsToHours)(a.balanceUnits)})}),(0,h.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Worth"," ",(0,h.jsx)("span",{className:"font-semibold text-foreground",children:(0,L.formatCents)(k)})," ","at current rate"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Rate Comparison"}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-3 bg-card border border-border rounded-lg",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"h-8 w-8 rounded-full bg-muted flex items-center justify-center",children:(0,h.jsx)(K.MdPayment,{className:"h-4 w-4 text-muted-foreground"})}),(0,h.jsx)("span",{className:"text-sm text-muted-foreground",children:"Purchase rate"})]}),(0,h.jsxs)("span",{className:"font-semibold tabular-nums",children:[(0,L.formatCents)(j),"/hr"]})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between p-3 bg-card border border-border rounded-lg",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary/10 flex items-center justify-center",children:(0,h.jsx)(K.MdTrendingUp,{className:"h-4 w-4 text-primary"})}),(0,h.jsx)("span",{className:"text-sm text-muted-foreground",children:"Current rate"})]}),(0,h.jsxs)("span",{className:"font-semibold tabular-nums",children:[(0,L.formatCents)(i),"/hr"]})]})]})]}),(0,h.jsx)(aC.Separator,{}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Value Breakdown"}),(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-muted-foreground",children:"Amount invested"}),(0,h.jsx)("span",{className:"tabular-nums",children:(0,L.formatCents)(a.totalPaid)})]}),(0,h.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,h.jsx)("span",{className:"text-muted-foreground",children:"Current value"}),(0,h.jsx)("span",{className:"tabular-nums",children:(0,L.formatCents)(k)})]}),(0,h.jsx)(aC.Separator,{}),(0,h.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,h.jsxs)("span",{children:["Unrealized ",m>=0?"gain":"loss"]}),(0,h.jsxs)("span",{className:(0,L.cn)("tabular-nums",m>=0?"text-success":"text-destructive"),children:[m>=0?"+":"",(0,L.formatCents)(Math.abs(m))]})]})]})]}),a.reservedUnits&&a.reservedUnits>0&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(aC.Separator,{}),(0,h.jsxs)("div",{className:"bg-warning/5 border border-warning/20 rounded-lg p-4",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2 text-warning mb-1",children:[(0,h.jsx)(K.MdAccessTime,{className:"h-4 w-4"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:"Reserved Hours"})]}),(0,h.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,L.formatUnitsToHours)(a.reservedUnits)," reserved for upcoming sessions"]})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Summary"}),(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,h.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 text-center",children:[(0,h.jsx)("p",{className:"text-2xl font-bold text-foreground tabular-nums",children:a.balanceUnits/2}),(0,h.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Hours available"})]}),(0,h.jsxs)("div",{className:"bg-card border border-border rounded-lg p-4 text-center",children:[(0,h.jsx)("p",{className:"text-2xl font-bold text-foreground tabular-nums",children:(0,L.formatCents)(k)}),(0,h.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Current value"})]})]})]})]}),(0,h.jsxs)("div",{className:"border-t border-border pt-4 pb-2 space-y-2",children:[(0,h.jsx)(ak.default,{href:e,className:"block",children:(0,h.jsxs)(ae.Button,{className:"w-full gap-2",size:"lg",children:[(0,h.jsx)(K.MdCalendarToday,{className:"h-4 w-4"}),"Book a Session"]})}),(0,h.jsx)(ak.default,{href:f,className:"block",children:(0,h.jsxs)(ae.Button,{variant:"outline",className:"w-full gap-2",children:["View Profile",(0,h.jsx)(K.MdArrowForward,{className:"h-4 w-4"})]})})]})]})}var aF=a.i(61082);function aG({experienceId:a,sessions:b,userId:c,isLoading:d,standalone:e}){let f=e?"/app?tab=browse":`/experiences/${a}?tab=browse`,g=b.filter(a=>["REQUESTED","ACCEPTED","IN_PROGRESS"].includes(a.status)),i=b.filter(a=>!["REQUESTED","ACCEPTED","IN_PROGRESS"].includes(a.status));return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8",children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Offers"}),(0,h.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage your upcoming and past offers"})]}),(0,h.jsxs)(aF.Tabs,{defaultValue:"upcoming",className:"space-y-4",children:[(0,h.jsxs)(aF.TabsList,{children:[(0,h.jsxs)(aF.TabsTrigger,{value:"upcoming",className:"gap-2",children:["Upcoming",g.length>0&&(0,h.jsx)(ag.Badge,{variant:"secondary",children:g.length})]}),(0,h.jsx)(aF.TabsTrigger,{value:"past",children:"Past"})]}),(0,h.jsx)(aF.TabsContent,{value:"upcoming",className:"space-y-4",children:d?(0,h.jsx)(aw,{count:3}):0===g.length?(0,h.jsx)(aA,{preset:"no-offers",children:(0,h.jsx)(ak.default,{href:f,children:(0,h.jsx)(ae.Button,{children:"Browse Members"})})}):(0,h.jsx)("div",{className:"space-y-4",children:g.map(b=>(0,h.jsx)(ao,{session:b,experienceId:a,userId:c,standalone:e},b.id))})}),(0,h.jsx)(aF.TabsContent,{value:"past",className:"space-y-4",children:d?(0,h.jsx)(aw,{count:3}):0===i.length?(0,h.jsx)(aA,{icon:K.MdSchedule,title:"No past sessions",description:"Your completed sessions will appear here."}):(0,h.jsx)("div",{className:"space-y-4",children:i.map(b=>(0,h.jsx)(ao,{session:b,experienceId:a,userId:c,standalone:e},b.id))})})]})]})}function aH({experienceId:a,user:b,stats:c,isLoading:d,standalone:e}){let{setTab:f}=n(),g=`/experiences/${a}?tab=settings`,i=e?"/become-seller":`/experiences/${a}/become-seller`,j=e?"/app?tab=dashboard":`/experiences/${a}?tab=dashboard&mode=seller`;if(d||!b)return(0,h.jsx)(aI,{});let k=!!b.sellerProfile,l=c||{totalPurchased:0,totalSessionsAsBuyer:0,totalSpent:0};return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8",children:[(0,h.jsx)(ad.Card,{className:"mb-6",children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[(0,h.jsxs)(M.Avatar,{className:"h-20 w-20",children:[(0,h.jsx)(M.AvatarImage,{src:b.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{className:"text-2xl",children:b.name?.[0]?.toUpperCase()||"?"})]}),(0,h.jsxs)("div",{className:"flex-1",children:[(0,h.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:b.name||"Anonymous"}),b.sellerProfile?.tagline&&(0,h.jsx)("p",{className:"text-muted-foreground mt-1",children:b.sellerProfile.tagline})]}),e?(0,h.jsxs)(ae.Button,{variant:"outline",size:"sm",className:"gap-2 hover:bg-muted hover:text-foreground",onClick:()=>f("settings"),children:[(0,h.jsx)(K.MdEditSquare,{className:"h-4 w-4"}),"Edit Profile"]}):(0,h.jsx)(ak.default,{href:g,children:(0,h.jsxs)(ae.Button,{variant:"outline",size:"sm",className:"gap-2 hover:bg-muted hover:text-foreground",children:[(0,h.jsx)(K.MdEditSquare,{className:"h-4 w-4"}),"Edit Profile"]})})]}),b.bio&&(0,h.jsx)("p",{className:"text-muted-foreground mt-4",children:b.bio}),(0,h.jsx)("div",{className:"flex flex-wrap gap-4 mt-4",children:k&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,h.jsx)(K.MdStar,{className:"h-4 w-4 text-warning"}),(0,h.jsx)("span",{className:"text-sm font-medium",children:b.sellerProfile?.averageRating?.toFixed(1)||"N/A"})]}),(0,h.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,h.jsx)(K.MdCalendarToday,{className:"h-4 w-4"}),(0,h.jsxs)("span",{className:"text-sm",children:[b.sellerProfile?.totalSessionsCompleted||0," ","sessions"]})]}),(0,h.jsxs)(ag.Badge,{variant:"secondary",className:"gap-1",children:[(0,h.jsx)(K.MdAttachMoney,{className:"h-3 w-3"}),(0,L.formatCents)(b.sellerProfile?.hourlyRate||0),"/hr"]})]})})]})]})})}),(0,h.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[(0,h.jsx)(ad.Card,{children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,h.jsx)(K.MdSchedule,{className:"h-5 w-5 text-primary"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Hours Purchased"}),(0,h.jsx)("p",{className:"text-2xl font-semibold text-foreground",children:l.totalPurchased/2})]})]})})}),(0,h.jsx)(ad.Card,{children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:(0,h.jsx)(K.MdCalendarToday,{className:"h-5 w-5 text-muted-foreground"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sessions as Buyer"}),(0,h.jsx)("p",{className:"text-2xl font-semibold text-foreground",children:l.totalSessionsAsBuyer})]})]})})}),(0,h.jsx)(ad.Card,{children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"h-10 w-10 rounded-full bg-success/10 flex items-center justify-center",children:(0,h.jsx)(K.MdAttachMoney,{className:"h-5 w-5 text-success"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Spent"}),(0,h.jsx)("p",{className:"text-2xl font-semibold text-foreground",children:(0,L.formatCents)(l.totalSpent)})]})]})})})]}),!k&&(0,h.jsx)(ad.Card,{className:"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20",children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Start Selling Your Time"}),(0,h.jsx)("p",{className:"text-muted-foreground mt-1",children:"List your hours and earn money helping others in this community."})]}),(0,h.jsx)(ak.default,{href:i,children:(0,h.jsxs)(ae.Button,{className:"gap-2",children:[(0,h.jsx)(K.MdTrendingUp,{className:"h-4 w-4"}),"Become a Seller"]})})]})})}),k&&(0,h.jsxs)(ad.Card,{children:[(0,h.jsx)(ad.CardHeader,{children:(0,h.jsx)(ad.CardTitle,{className:"text-lg",children:"Seller Stats"})}),(0,h.jsxs)(ad.CardContent,{children:[(0,h.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,h.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50",children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Earnings"}),(0,h.jsx)("p",{className:"text-xl font-semibold text-primary mt-1",children:(0,L.formatCents)(b.sellerProfile?.totalEarnings||0)})]}),(0,h.jsxs)("div",{className:"p-4 rounded-lg bg-muted/50",children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sessions Completed"}),(0,h.jsx)("p",{className:"text-xl font-semibold text-foreground mt-1",children:b.sellerProfile?.totalSessionsCompleted||0})]})]}),(0,h.jsx)(ak.default,{href:j,className:"block mt-4",children:(0,h.jsx)(ae.Button,{variant:"outline",className:"w-full",children:"Go to Seller Dashboard"})})]})]})]})}function aI(){return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8",children:[(0,h.jsx)(ad.Card,{className:"mb-6",children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex items-start gap-6",children:[(0,h.jsx)(ap.Skeleton,{className:"h-20 w-20 rounded-full"}),(0,h.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,h.jsx)(ap.Skeleton,{className:"h-8 w-48"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-64"}),(0,h.jsx)(ap.Skeleton,{className:"h-16 w-full"})]})]})})}),(0,h.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[void 0,void 0,void 0].map((a,b)=>(0,h.jsx)(ad.Card,{children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsx)(ap.Skeleton,{className:"h-16 w-full"})})},b))})]})}var aJ=a.i(33634),aK=a.i(2479),aL=a.i(86630);function aM({experienceId:a,user:b,isLoading:c,standalone:d}){let{setTab:e}=n(),[f,g]=(0,i.useState)(!1),[j,k]=(0,i.useState)(!1),[l,m]=(0,i.useState)({name:b?.name||"",bio:b?.bio||""}),[o,p]=(0,i.useState)({sessionReminders:!0,newRequests:!0,marketingEmails:!1});if(c||!b)return(0,h.jsx)(aN,{});let q=async()=>{k(!0);try{(await fetch("/api/users/profile",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok&&(g(!1),window.location.reload())}catch(a){console.error("Failed to save profile:",a)}finally{k(!1)}};return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 max-w-3xl mx-auto",children:[d&&(0,h.jsxs)("button",{onClick:()=>e("profile"),className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-6 transition-colors",children:[(0,h.jsx)(K.MdArrowBack,{className:"h-4 w-4"}),(0,h.jsx)("span",{className:"text-sm",children:"Back to Profile"})]}),(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Settings"}),(0,h.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage your account and preferences"})]}),(0,h.jsxs)(ad.Card,{className:"mb-6",children:[(0,h.jsx)(ad.CardHeader,{children:(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,h.jsx)(K.MdPerson,{className:"h-5 w-5 text-primary"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(ad.CardTitle,{className:"text-lg",children:"Profile"}),(0,h.jsx)(ad.CardDescription,{children:"Your public profile information"})]})]}),f?(0,h.jsxs)("div",{className:"flex gap-2",children:[(0,h.jsxs)(ae.Button,{variant:"outline",size:"sm",onClick:()=>{m({name:b.name||"",bio:b.bio||""}),g(!1)},className:"gap-2",children:[(0,h.jsx)(K.MdClose,{className:"h-4 w-4"}),"Cancel"]}),(0,h.jsxs)(ae.Button,{size:"sm",onClick:q,disabled:j,className:"gap-2",children:[(0,h.jsx)(K.MdSave,{className:"h-4 w-4"}),j?"Saving...":"Save"]})]}):(0,h.jsxs)(ae.Button,{variant:"outline",size:"sm",onClick:()=>g(!0),className:"gap-2",children:[(0,h.jsx)(K.MdEdit,{className:"h-4 w-4"}),"Edit"]})]})}),(0,h.jsxs)(ad.CardContent,{className:"space-y-6",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsxs)(M.Avatar,{className:"h-16 w-16",children:[(0,h.jsx)(M.AvatarImage,{src:b.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{className:"text-xl",children:b.name?.[0]?.toUpperCase()||"?"})]}),(0,h.jsx)("div",{children:(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your profile picture is synced from your Whop account"})})]}),(0,h.jsx)(aC.Separator,{}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsx)(aJ.Label,{htmlFor:"name",children:"Display Name"}),f?(0,h.jsx)(af.Input,{id:"name",value:l.name,onChange:a=>m({...l,name:a.target.value}),placeholder:"Enter your name"}):(0,h.jsx)("p",{className:"text-foreground",children:b.name||"Not set"}),(0,h.jsx)("p",{className:"text-xs text-muted-foreground",children:"This name will be displayed to other users"})]}),(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsx)(aJ.Label,{htmlFor:"bio",children:"Bio"}),f?(0,h.jsx)(aK.Textarea,{id:"bio",value:l.bio,onChange:a=>m({...l,bio:a.target.value}),placeholder:"Tell others about yourself...",rows:3}):(0,h.jsx)("p",{className:"text-foreground",children:b.bio||"No bio added yet"})]}),b.email&&(0,h.jsxs)("div",{className:"space-y-2",children:[(0,h.jsx)(aJ.Label,{children:"Email"}),(0,h.jsx)("p",{className:"text-foreground",children:b.email}),(0,h.jsx)("p",{className:"text-xs text-muted-foreground",children:"Managed through your Whop account"})]})]})]}),(0,h.jsxs)(ad.Card,{className:"mb-6",children:[(0,h.jsx)(ad.CardHeader,{children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,h.jsx)(K.MdNotifications,{className:"h-5 w-5 text-primary"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(ad.CardTitle,{className:"text-lg",children:"Notifications"}),(0,h.jsx)(ad.CardDescription,{children:"Choose what notifications you receive"})]})]})}),(0,h.jsxs)(ad.CardContent,{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-medium text-foreground",children:"Session Reminders"}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Get notified before your scheduled sessions"})]}),(0,h.jsx)(aL.Switch,{checked:o.sessionReminders,onCheckedChange:a=>p({...o,sessionReminders:a})})]}),(0,h.jsx)(aC.Separator,{}),(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-medium text-foreground",children:"New Requests"}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Get notified when someone requests a session"})]}),(0,h.jsx)(aL.Switch,{checked:o.newRequests,onCheckedChange:a=>p({...o,newRequests:a})})]}),(0,h.jsx)(aC.Separator,{}),(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"font-medium text-foreground",children:"Marketing Emails"}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive updates about new features and tips"})]}),(0,h.jsx)(aL.Switch,{checked:o.marketingEmails,onCheckedChange:a=>p({...o,marketingEmails:a})})]})]})]}),(0,h.jsxs)(ad.Card,{children:[(0,h.jsx)(ad.CardHeader,{children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:"h-10 w-10 rounded-full bg-muted flex items-center justify-center",children:(0,h.jsx)(K.MdSecurity,{className:"h-5 w-5 text-muted-foreground"})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(ad.CardTitle,{className:"text-lg",children:"Account"}),(0,h.jsx)(ad.CardDescription,{children:"Account information and actions"})]})]})}),(0,h.jsxs)(ad.CardContent,{className:"space-y-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"Member since"}),(0,h.jsx)("p",{className:"font-medium text-foreground",children:new Date(b.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),(0,h.jsx)(aC.Separator,{}),(0,h.jsx)("div",{className:"pt-2",children:d?(0,h.jsx)("p",{className:"text-sm text-muted-foreground",children:"To change your password or delete your account, please contact support."}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Your account is managed through Whop. To change your password or delete your account, please visit your Whop settings."}),(0,h.jsx)(ae.Button,{variant:"outline",className:"gap-2",asChild:!0,children:(0,h.jsxs)("a",{href:"https://whop.com/settings",target:"_blank",rel:"noopener noreferrer",children:[(0,h.jsx)(K.MdLogout,{className:"h-4 w-4"}),"Manage on Whop"]})})]})})]})]})]})}function aN(){return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8 max-w-3xl mx-auto",children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)(ap.Skeleton,{className:"h-8 w-32"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-64 mt-2"})]}),(0,h.jsx)(ad.Card,{className:"mb-6",children:(0,h.jsxs)(ad.CardContent,{className:"p-6 space-y-6",children:[(0,h.jsxs)("div",{className:"flex items-center gap-4",children:[(0,h.jsx)(ap.Skeleton,{className:"h-16 w-16 rounded-full"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-48"})]}),(0,h.jsx)(ap.Skeleton,{className:"h-10 w-full"}),(0,h.jsx)(ap.Skeleton,{className:"h-24 w-full"})]})}),(0,h.jsx)(ad.Card,{children:(0,h.jsx)(ad.CardContent,{className:"p-6 space-y-4",children:[void 0,void 0,void 0].map((a,b)=>(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)(ap.Skeleton,{className:"h-12 w-48"}),(0,h.jsx)(ap.Skeleton,{className:"h-6 w-12 rounded-full"})]},b))})})]})}function aO({activeTab:a,userId:b}){let c=E({queryKey:F.queryKeys.sellers.list(),queryFn:Z,staleTime:3e5}),d=E({queryKey:F.queryKeys.wallet.balances(),queryFn:_,staleTime:6e4}),e=ac("buyer"),f=H(),g=f.data?{id:f.data.id,name:f.data.name,avatar:f.data.avatar,email:f.data.email,bio:f.data.bio,createdAt:f.data.createdAt,sellerProfile:f.data.sellerProfile?{id:f.data.sellerProfile.id,hourlyRate:f.data.sellerProfile.hourlyRate,tagline:f.data.sellerProfile.tagline,averageRating:f.data.sellerProfile.averageRating,totalSessionsCompleted:f.data.sellerProfile.totalSessionsCompleted,totalEarnings:0}:null}:null;switch(a){case"browse":default:return(0,h.jsx)(aB,{members:c.data??[],isLoading:c.isLoading,standalone:!0});case"wallet":return(0,h.jsx)(aD,{balances:d.data??[],isLoading:d.isLoading,standalone:!0});case"offers":return(0,h.jsx)(aG,{sessions:e.data??[],userId:b,isLoading:e.isLoading,standalone:!0});case"profile":return(0,h.jsx)(aH,{user:g,isLoading:f.isLoading,standalone:!0});case"settings":return(0,h.jsx)(aM,{user:f.data?{id:f.data.id,name:f.data.name,avatar:f.data.avatar,bio:f.data.bio,email:f.data.email,createdAt:f.data.createdAt}:null,isLoading:f.isLoading,standalone:!0})}}async function aP(){let a=await fetch("/api/app/seller/dashboard",{credentials:"include"});if(!a.ok)throw Error("Failed to fetch seller dashboard");return a.json()}var aQ=a.i(12406);function aR(){let[a,b]=(0,i.useState)(null),[c,d]=(0,i.useState)(!0);if((0,i.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/sellers/commissions");if(a.ok){let c=await a.json();b(c)}}catch(a){console.error("Error fetching commission rates:",a)}finally{d(!1)}})()},[]),c)return(0,h.jsxs)(ad.Card,{children:[(0,h.jsx)(ad.CardHeader,{children:(0,h.jsx)(ad.CardTitle,{className:"text-lg",children:"Fee Breakdown"})}),(0,h.jsx)(ad.CardContent,{children:(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsx)(ap.Skeleton,{className:"h-4 w-full"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-3/4"}),(0,h.jsx)(ap.Skeleton,{className:"h-4 w-1/2"})]})})]});if(!a)return null;let e=a=>`${(a/100).toFixed(+(a%100!=0))}%`,f=a=>{switch(a){case"seller":return"Custom";case"community":return"Community";default:return"Standard"}};return(0,h.jsxs)(ad.Card,{children:[(0,h.jsxs)(ad.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,h.jsx)(ad.CardTitle,{className:"text-lg",children:"Fee Breakdown"}),a.hasCustomRate&&(0,h.jsxs)(ag.Badge,{variant:"secondary",className:"text-xs bg-success/10 text-success",children:[(0,h.jsx)(K.MdCheckCircle,{className:"h-3 w-3 mr-1"}),"Custom Rate"]})]}),(0,h.jsxs)(ad.CardContent,{children:[(0,h.jsxs)("div",{className:"space-y-3",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-sm text-muted-foreground",children:"Platform Fee"}),(0,h.jsx)(aQ.TooltipProvider,{children:(0,h.jsxs)(aQ.Tooltip,{children:[(0,h.jsx)(aQ.TooltipTrigger,{children:(0,h.jsx)(K.MdInfo,{className:"h-4 w-4 text-muted-foreground"})}),(0,h.jsx)(aQ.TooltipContent,{children:(0,h.jsxs)("p",{children:["Fee charged by Waliet (",f(a.source.platform)," rate)"]})})]})})]}),(0,h.jsx)("span",{className:(0,L.cn)("font-medium","default"!==a.source.platform&&"text-success"),children:e(a.platformFeeBps)})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsxs)("div",{className:"flex items-center gap-2",children:[(0,h.jsx)("span",{className:"text-sm text-muted-foreground",children:"Community Fee"}),(0,h.jsx)(aQ.TooltipProvider,{children:(0,h.jsxs)(aQ.Tooltip,{children:[(0,h.jsx)(aQ.TooltipTrigger,{children:(0,h.jsx)(K.MdInfo,{className:"h-4 w-4 text-muted-foreground"})}),(0,h.jsx)(aQ.TooltipContent,{children:(0,h.jsxs)("p",{children:["Fee shared with the community (",f(a.source.community)," rate)"]})})]})})]}),(0,h.jsx)("span",{className:(0,L.cn)("font-medium","default"!==a.source.community&&"text-success"),children:e(a.communityFeeBps)})]}),(0,h.jsx)("div",{className:"border-t my-2"}),(0,h.jsxs)("div",{className:"flex items-center justify-between",children:[(0,h.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Fees"}),(0,h.jsx)("span",{className:"font-medium",children:e(a.totalFeeBps)})]}),(0,h.jsxs)("div",{className:"flex items-center justify-between bg-primary/5 -mx-4 px-4 py-3 rounded-lg mt-4",children:[(0,h.jsx)("span",{className:"text-sm font-medium text-foreground",children:"You Receive"}),(0,h.jsxs)("span",{className:"text-xl font-bold text-primary",children:[a.netPercentage.toFixed(1),"%"]})]})]}),(0,h.jsxs)("p",{className:"text-xs text-muted-foreground mt-4",children:["For every $100 you earn, you keep $",a.netPercentage.toFixed(0)]})]})]})}let aS={default:{bg:"bg-muted",text:"text-muted-foreground"},primary:{bg:"bg-primary/10",text:"text-primary"},success:{bg:"bg-success/10",text:"text-success"},warning:{bg:"bg-warning/10",text:"text-warning"},destructive:{bg:"bg-destructive/10",text:"text-destructive"}};function aT({icon:a,label:b,value:c,trend:d,color:e="default",className:f}){let g=aS[e],i=d&&d.value>=0;return(0,h.jsx)(ad.Card,{variant:"bordered",className:(0,L.cn)("overflow-hidden",f),children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsxs)("div",{className:"flex items-center gap-3",children:[(0,h.jsx)("div",{className:(0,L.cn)("h-10 w-10 rounded-full flex items-center justify-center flex-shrink-0",g.bg),children:(0,h.jsx)(a,{className:(0,L.cn)("h-5 w-5",g.text)})}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:b}),(0,h.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,h.jsx)("p",{className:"text-2xl font-semibold text-foreground tracking-tight",children:c}),d&&(0,h.jsxs)("div",{className:(0,L.cn)("flex items-center gap-0.5 text-xs font-medium px-1.5 py-0.5 rounded-full",i?"bg-success/10 text-success":"bg-destructive/10 text-destructive"),children:[i?(0,h.jsx)(K.MdTrendingUp,{className:"h-3 w-3"}):(0,h.jsx)(K.MdTrendingDown,{className:"h-3 w-3"}),Math.abs(d.value).toFixed(1),"%"]})]}),d?.label&&(0,h.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:d.label})]})]})})})}function aU({experienceId:a,stats:b,recentSessions:c,isLoading:d,standalone:e}){let{setTab:f}=n(),g=`/experiences/${a}?tab=requests&mode=seller`,i=`/experiences/${a}?tab=settings&mode=seller`,j=`/experiences/${a}?tab=analytics&mode=seller`,k=`/experiences/${a}?tab=sessions&mode=seller`;return d?(0,h.jsx)(aV,{}):(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8",children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Dashboard"}),(0,h.jsx)("p",{className:"text-muted-foreground mt-1",children:"Overview of your seller activity"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,h.jsx)(aT,{icon:K.MdAttachMoney,label:"Total Earnings",value:(0,L.formatCents)(b.totalEarnings),color:"success"}),(0,h.jsx)(aT,{icon:K.MdSchedule,label:"Pending",value:(0,L.formatCents)(b.pendingEarnings),color:"warning"}),(0,h.jsx)(aT,{icon:K.MdCalendarToday,label:"Sessions",value:b.totalSessions,color:"primary"}),(0,h.jsx)(aT,{icon:K.MdStar,label:"Rating",value:b.averageRating?.toFixed(1)||"N/A",color:"warning"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,h.jsxs)(ad.Card,{children:[(0,h.jsxs)(ad.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,h.jsx)(ad.CardTitle,{className:"text-lg",children:"Pending Requests"}),b.pendingRequests>0&&(0,h.jsx)(ag.Badge,{variant:"secondary",children:b.pendingRequests})]}),(0,h.jsx)(ad.CardContent,{children:0===b.pendingRequests?(0,h.jsxs)("div",{className:"text-center py-6",children:[(0,h.jsx)("p",{className:"text-muted-foreground",children:"No pending requests"}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"New booking requests will appear here"})]}):(0,h.jsxs)("div",{className:"space-y-3",children:[c.filter(a=>"REQUESTED"===a.status).slice(0,3).map(a=>(0,h.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[(0,h.jsxs)(M.Avatar,{className:"h-10 w-10",children:[(0,h.jsx)(M.AvatarImage,{src:a.buyer.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{children:a.buyer.name?.[0]?.toUpperCase()||"?"})]}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsx)("p",{className:"font-medium text-foreground truncate",children:a.buyer.name||"Anonymous"}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:a.topic})]}),(0,h.jsx)(ae.Button,{size:"sm",children:"Review"})]},a.id)),e?(0,h.jsx)(ae.Button,{variant:"outline",className:"w-full mt-2",onClick:()=>f("requests"),children:"View All Requests"}):(0,h.jsx)(ak.default,{href:g,children:(0,h.jsx)(ae.Button,{variant:"outline",className:"w-full mt-2",children:"View All Requests"})})]})})]}),(0,h.jsxs)(ad.Card,{children:[(0,h.jsx)(ad.CardHeader,{children:(0,h.jsx)(ad.CardTitle,{className:"text-lg",children:"Your Rate"})}),(0,h.jsxs)(ad.CardContent,{children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsxs)("p",{className:"text-3xl font-bold text-primary",children:[(0,L.formatCents)(b.hourlyRate),"/hr"]}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Current hourly rate"})]}),(0,h.jsx)("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center",children:(0,h.jsx)(K.MdTrendingUp,{className:"h-6 w-6 text-primary"})})]}),(0,h.jsxs)("div",{className:"flex gap-2",children:[e?(0,h.jsx)(ae.Button,{variant:"outline",className:"flex-1",onClick:()=>f("settings"),children:"Update Rate"}):(0,h.jsx)(ak.default,{href:i,className:"flex-1",children:(0,h.jsx)(ae.Button,{variant:"outline",className:"w-full",children:"Update Rate"})}),e?(0,h.jsx)(ae.Button,{className:"flex-1",onClick:()=>f("analytics"),children:"View Analytics"}):(0,h.jsx)(ak.default,{href:j,className:"flex-1",children:(0,h.jsx)(ae.Button,{className:"w-full",children:"View Analytics"})})]})]})]}),(0,h.jsx)(aR,{})]}),(0,h.jsxs)(ad.Card,{className:"mt-6",children:[(0,h.jsxs)(ad.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,h.jsx)(ad.CardTitle,{className:"text-lg",children:"Recent Sessions"}),e?(0,h.jsxs)(ae.Button,{variant:"ghost",size:"sm",className:"gap-1",onClick:()=>f("offers"),children:["View All",(0,h.jsx)(K.MdChevronRight,{className:"h-4 w-4"})]}):(0,h.jsx)(ak.default,{href:k,children:(0,h.jsxs)(ae.Button,{variant:"ghost",size:"sm",className:"gap-1",children:["View All",(0,h.jsx)(K.MdChevronRight,{className:"h-4 w-4"})]})})]}),(0,h.jsx)(ad.CardContent,{children:0===c.length?(0,h.jsxs)("div",{className:"text-center py-6",children:[(0,h.jsx)("p",{className:"text-muted-foreground",children:"No sessions yet"}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Completed sessions will appear here"})]}):(0,h.jsx)("div",{className:"space-y-3",children:c.slice(0,5).map(a=>(0,h.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[(0,h.jsxs)(M.Avatar,{className:"h-10 w-10",children:[(0,h.jsx)(M.AvatarImage,{src:a.buyer.avatar||void 0}),(0,h.jsx)(M.AvatarFallback,{children:a.buyer.name?.[0]?.toUpperCase()||"?"})]}),(0,h.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,h.jsx)("p",{className:"font-medium text-foreground truncate",children:a.buyer.name||"Anonymous"}),(0,h.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:a.topic})]}),(0,h.jsx)(ag.Badge,{variant:"COMPLETED"===a.status?"secondary":"ACCEPTED"===a.status?"default":"outline",children:a.status})]},a.id))})})]})]})}function aV(){return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8",children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("div",{className:"h-8 w-48 bg-muted rounded animate-pulse"}),(0,h.jsx)("div",{className:"h-4 w-64 mt-2 bg-muted rounded animate-pulse"})]}),(0,h.jsx)(ax,{count:4,className:"mb-8"}),(0,h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,h.jsx)(ad.Card,{variant:"bordered",children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsx)("div",{className:"h-32 w-full bg-muted rounded animate-pulse"})})}),(0,h.jsx)(ad.Card,{variant:"bordered",children:(0,h.jsx)(ad.CardContent,{className:"p-6",children:(0,h.jsx)("div",{className:"h-32 w-full bg-muted rounded animate-pulse"})})})]})]})}function aW({activeTab:a,userId:b}){let c=E({queryKey:F.queryKeys.sellerStats.dashboard(),queryFn:aP,staleTime:6e4}),d=ac("seller"),e=H();switch(a){case"dashboard":default:return(0,h.jsx)(aU,{stats:c.data?.stats??{totalEarnings:0,pendingEarnings:0,totalSessions:0,pendingRequests:0,averageRating:null,totalReviews:0,hourlyRate:0},recentSessions:c.data?.recentSessions??[],isLoading:c.isLoading,standalone:!0});case"requests":return(0,h.jsx)(aG,{sessions:(d.data??[]).filter(a=>"REQUESTED"===a.status),userId:b,isLoading:d.isLoading,standalone:!0});case"offers":return(0,h.jsx)(aG,{sessions:d.data??[],userId:b,isLoading:d.isLoading,standalone:!0});case"earnings":return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8",children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Earnings"}),(0,h.jsx)("p",{className:"text-muted-foreground mt-1",children:"Track your earnings and payouts"})]}),(0,h.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Earnings tracking coming soon"})]});case"analytics":return(0,h.jsxs)("div",{className:"p-4 sm:p-6 md:p-8",children:[(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Analytics"}),(0,h.jsx)("p",{className:"text-muted-foreground mt-1",children:"View your performance metrics"})]}),(0,h.jsx)("div",{className:"text-center py-12 text-muted-foreground",children:"Analytics coming soon"})]});case"settings":return(0,h.jsx)(aM,{user:e.data?{id:e.data.id,name:e.data.name,avatar:e.data.avatar,bio:e.data.bio,email:e.data.email,createdAt:e.data.createdAt}:null,isLoading:e.isLoading,standalone:!0})}}function aX(){let{activeTab:a,mode:b}=n(),{data:c,isLoading:d}=H(),e=c?{id:c.id,name:c.name,avatar:c.avatar,sellerProfile:c.sellerProfile?{id:c.sellerProfile.id}:null}:null,f="seller"===b&&c?.sellerProfile;return(0,h.jsxs)("div",{className:"min-h-screen bg-background pb-20 md:pb-0",children:[(0,h.jsx)(S,{user:e,isLoading:d}),(0,h.jsx)("main",{className:"pt-4",children:f?(0,h.jsx)(aW,{activeTab:a,userId:c?.id||""}):(0,h.jsx)(aO,{activeTab:a,userId:c?.id||""})}),(0,h.jsx)(X,{currentTab:a})]})}function aY(){return(0,h.jsx)(aX,{})}a.s(["default",()=>aY],42652)}];

//# sourceMappingURL=waliet_app_app_page_tsx_e08de73e._.js.map